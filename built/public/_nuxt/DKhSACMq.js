import{b7 as me}from"./DPHdV5Tz.js";function ge(te,_){for(var M=0;M<_.length;M++){const X=_[M];if(typeof X!="string"&&!Array.isArray(X)){for(const w in X)if(w!=="default"&&!(w in te)){const z=Object.getOwnPropertyDescriptor(X,w);z&&Object.defineProperty(te,w,z.get?z:{enumerable:!0,get:()=>X[w]})}}}return Object.freeze(Object.defineProperty(te,Symbol.toStringTag,{value:"Module"}))}var pe={exports:{}};(function(te){(function(_){te.exports?(_.default=_,te.exports=_):_(typeof Highcharts<"u"?Highcharts:void 0)})(function(_){var M=_?_._modules:{};function X(w,z,O,P){w.hasOwnProperty(z)||(w[z]=P.apply(null,O),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:z,module:w[z]}})))}X(M,"Core/Axis/Color/ColorAxisComposition.js",[M["Core/Color/Color.js"],M["Core/Utilities.js"]],function(w,z){var O;let{parse:P}=w,{addEvent:v,extend:I,merge:L,pick:C,splat:B}=z;return function(k){let E;function D(){let{userOptions:a}=this;this.colorAxis=[],a.colorAxis&&(a.colorAxis=B(a.colorAxis),a.colorAxis.map(t=>new E(this,t)))}function g(a){let t=this.chart.colorAxis||[],c=S=>{let e=a.allItems.indexOf(S);e!==-1&&(this.destroyItem(a.allItems[e]),a.allItems.splice(e,1))},r=[],b,f;for(t.forEach(function(S){(b=S.options)&&b.showInLegend&&(b.dataClasses&&b.visible?r=r.concat(S.getDataClassLegendSymbols()):b.visible&&r.push(S),S.series.forEach(function(e){(!e.options.showInLegend||b.dataClasses)&&(e.options.legendType==="point"?e.points.forEach(function(l){c(l)}):c(e))}))}),f=r.length;f--;)a.allItems.unshift(r[f])}function s(a){a.visible&&a.item.legendColor&&a.item.legendItem.symbol.attr({fill:a.item.legendColor})}function m(a){var t;(t=this.chart.colorAxis)==null||t.forEach(c=>{c.update({},a.redraw)})}function j(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function A(){let a=this.axisTypes;a?a.indexOf("colorAxis")===-1&&a.push("colorAxis"):this.axisTypes=["colorAxis"]}function y(a){let t=this,c=a?"show":"hide";t.visible=t.options.visible=!!a,["graphic","dataLabel"].forEach(function(r){t[r]&&t[r][c]()}),this.series.buildKDTree()}function i(){let a=this,t=this.data.length?this.data:this.points,c=this.options.nullColor,r=this.colorAxis,b=this.colorKey;t.forEach(f=>{let S=f.getNestedProperty(b),e=f.options.color||(f.isNull||f.value===null?c:r&&S!==void 0?r.toColor(S,f):f.color||a.color);e&&f.color!==e&&(f.color=e,a.options.legendType==="point"&&f.legendItem&&f.legendItem.label&&a.chart.legend.colorizeItem(f,f.visible))})}function h(){this.elem.attr("fill",P(this.start).tweenTo(P(this.end),this.pos),void 0,!0)}function p(){this.elem.attr("stroke",P(this.start).tweenTo(P(this.end),this.pos),void 0,!0)}k.compose=function(a,t,c,r,b){let f=t.prototype,S=c.prototype,e=b.prototype;f.collectionsWithUpdate.includes("colorAxis")||(E=a,f.collectionsWithUpdate.push("colorAxis"),f.collectionsWithInit.colorAxis=[f.addColorAxis],v(t,"afterGetAxes",D),function(l){let o=l.prototype.createAxis;l.prototype.createAxis=function(d,x){if(d!=="colorAxis")return o.apply(this,arguments);let n=new E(this,L(x.axis,{index:this[d].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(u=>{u.series=[]}),this.series.forEach(u=>{u.bindAxes(),u.isDirtyData=!0}),C(x.redraw,!0)&&this.redraw(x.animation),n}}(t),S.fillSetter=h,S.strokeSetter=p,v(r,"afterGetAllItems",g),v(r,"afterColorizeItem",s),v(r,"afterUpdate",m),I(e,{optionalAxis:"colorAxis",translateColors:i}),I(e.pointClass.prototype,{setVisible:y}),v(b,"afterTranslate",j,{order:1}),v(b,"bindAxes",A))},k.pointSetVisible=y}(O||(O={})),O}),X(M,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}}),X(M,"Core/Axis/Color/ColorAxisLike.js",[M["Core/Color/Color.js"],M["Core/Utilities.js"]],function(w,z){var O,P;let{parse:v}=w,{merge:I}=z;return(P=O||(O={})).initDataClasses=function(L){let C=this.chart,B=this.legendItem=this.legendItem||{},k=this.options,E=L.dataClasses||[],D,g,s=C.options.chart.colorCount,m=0,j;this.dataClasses=g=[],B.labels=[];for(let A=0,y=E.length;A<y;++A)D=I(D=E[A]),g.push(D),(C.styledMode||!D.color)&&(k.dataClassColor==="category"?(C.styledMode||(s=(j=C.options.colors||[]).length,D.color=j[m]),D.colorIndex=m,++m===s&&(m=0)):D.color=v(k.minColor).tweenTo(v(k.maxColor),y<2?.5:A/(y-1)))},P.initStops=function(){let L=this.options,C=this.stops=L.stops||[[0,L.minColor||""],[1,L.maxColor||""]];for(let B=0,k=C.length;B<k;++B)C[B].color=v(C[B][1])},P.normalizedValue=function(L){let C=this.max||0,B=this.min||0;return this.logarithmic&&(L=this.logarithmic.log2lin(L)),1-(C-L)/(C-B||1)},P.toColor=function(L,C){let B,k,E,D,g,s,m=this.dataClasses,j=this.stops;if(m){for(s=m.length;s--;)if(k=(g=m[s]).from,E=g.to,(k===void 0||L>=k)&&(E===void 0||L<=E)){D=g.color,C&&(C.dataClass=s,C.colorIndex=g.colorIndex);break}}else{for(B=this.normalizedValue(L),s=j.length;s--&&!(B>j[s][0]););k=j[s]||j[s+1],B=1-((E=j[s+1]||k)[0]-B)/(E[0]-k[0]||1),D=k.color.tweenTo(E.color,B)}return D},O}),X(M,"Core/Axis/Color/ColorAxis.js",[M["Core/Axis/Axis.js"],M["Core/Axis/Color/ColorAxisComposition.js"],M["Core/Axis/Color/ColorAxisDefaults.js"],M["Core/Axis/Color/ColorAxisLike.js"],M["Core/Defaults.js"],M["Core/Legend/LegendSymbol.js"],M["Core/Series/SeriesRegistry.js"],M["Core/Utilities.js"]],function(w,z,O,P,v,I,L,C){let{defaultOptions:B}=v,{series:k}=L,{defined:E,extend:D,fireEvent:g,isArray:s,isNumber:m,merge:j,pick:A,relativeLength:y}=C;B.colorAxis=j(B.xAxis,O);class i extends w{static compose(p,a,t,c){z.compose(i,p,a,t,c)}constructor(p,a){super(p,a),this.coll="colorAxis",this.visible=!0,this.init(p,a)}init(p,a){let t=p.options.legend||{},c=a.layout?a.layout!=="vertical":t.layout!=="vertical";this.side=a.side||c?2:1,this.reversed=a.reversed||!c,this.opposite=!c,super.init(p,a,"colorAxis"),this.userOptions=a,s(p.userOptions.colorAxis)&&(p.userOptions.colorAxis[this.index]=a),a.dataClasses&&this.initDataClasses(a),this.initStops(),this.horiz=c,this.zoomEnabled=!1}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}setOptions(p){let a=j(B.colorAxis,p,{showEmpty:!1,title:null,visible:this.chart.options.legend.enabled&&p.visible!==!1});super.setOptions(a),this.options.crosshair=this.options.marker}setAxisSize(){var r;let p=this.chart,a=(r=this.legendItem)==null?void 0:r.symbol,{width:t,height:c}=this.getSize();a&&(this.left=+a.attr("x"),this.top=+a.attr("y"),this.width=t=+a.attr("width"),this.height=c=+a.attr("height"),this.right=p.chartWidth-this.left-t,this.bottom=p.chartHeight-this.top-c,this.pos=this.horiz?this.left:this.top),this.len=(this.horiz?t:c)||i.defaultLegendLength}getOffset(){var t;let p=(t=this.legendItem)==null?void 0:t.group,a=this.chart.axisOffset[this.side];if(p){this.axisParent=p,super.getOffset();let c=this.chart.legend;c.allItems.forEach(function(r){r instanceof i&&r.drawLegendSymbol(c,r)}),c.render(),this.chart.getMargins(!0),this.chart.series.some(r=>r.isDrilling)||(this.isDirty=!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=a}}setLegendColor(){let p=this.horiz,a=this.reversed,t=a?1:0,c=a?0:1,r=p?[t,0,c,0]:[0,c,0,t];this.legendColor={linearGradient:{x1:r[0],y1:r[1],x2:r[2],y2:r[3]},stops:this.stops}}drawLegendSymbol(p,a){let t=a.legendItem||{},c=p.padding,r=p.options,b=this.options.labels,f=A(r.itemDistance,10),S=this.horiz,{width:e,height:l}=this.getSize(),o=A(r.labelPadding,S?16:30);this.setLegendColor(),t.symbol||(t.symbol=this.chart.renderer.symbol("roundedRect").attr({r:r.symbolRadius??3,zIndex:1}).add(t.group)),t.symbol.attr({x:0,y:(p.baseline||0)-11,width:e,height:l}),t.labelWidth=e+c+(S?f:A(b.x,b.distance)+(this.maxLabelLength||0)),t.labelHeight=l+c+(S?o:0)}setState(p){this.series.forEach(function(a){a.setState(p)})}setVisible(){}getSeriesExtremes(){let p=this.series,a,t,c,r,b,f,S=p.length,e,l;for(this.dataMin=1/0,this.dataMax=-1/0;S--;){if(t=(f=p[S]).colorKey=A(f.options.colorKey,f.colorKey,f.pointValKey,f.zoneAxis,"y"),r=f.pointArrayMap,b=f[t+"Min"]&&f[t+"Max"],f[t+"Data"])a=f[t+"Data"];else if(r){if(a=[],c=r.indexOf(t),e=f.yData,c>=0&&e)for(l=0;l<e.length;l++)a.push(A(e[l][c],e[l]))}else a=f.yData;if(b)f.minColorValue=f[t+"Min"],f.maxColorValue=f[t+"Max"];else{let o=k.prototype.getExtremes.call(f,a);f.minColorValue=o.dataMin,f.maxColorValue=o.dataMax}E(f.minColorValue)&&E(f.maxColorValue)&&(this.dataMin=Math.min(this.dataMin,f.minColorValue),this.dataMax=Math.max(this.dataMax,f.maxColorValue)),b||k.prototype.applyExtremes.call(f)}}drawCrosshair(p,a){let t,c=this.legendItem||{},r=a&&a.plotX,b=a&&a.plotY,f=this.pos,S=this.len;a&&((t=this.toPixels(a.getNestedProperty(a.series.colorKey)))<f?t=f-2:t>f+S&&(t=f+S+2),a.plotX=t,a.plotY=this.len-t,super.drawCrosshair(p,a),a.plotX=r,a.plotY=b,this.cross&&!this.cross.addedToColorAxis&&c.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(c.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||typeof this.crosshair!="object"||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(p){let a=this.left,t=p.translatedValue,c=this.top;return m(t)?this.horiz?[["M",t-4,c-6],["L",t+4,c-6],["L",t,c],["Z"]]:[["M",a,t],["L",a-6,t+6],["L",a-6,t-6],["Z"]]:super.getPlotLinePath(p)}update(p,a){let t=this.chart.legend;this.series.forEach(c=>{c.isDirtyData=!0}),(p.dataClasses&&t.allItems||this.dataClasses)&&this.destroyItems(),super.update(p,a),this.legendItem&&this.legendItem.label&&(this.setLegendColor(),t.colorizeItem(this,!0))}destroyItems(){let p=this.chart,a=this.legendItem||{};if(a.label)p.legend.destroyItem(this);else if(a.labels)for(let t of a.labels)p.legend.destroyItem(t);p.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=!0,this.destroyItems(),super.destroy(...[].slice.call(arguments))}remove(p){this.destroyItems(),super.remove(p)}getDataClassLegendSymbols(){let p,a=this,t=a.chart,c=a.legendItem&&a.legendItem.labels||[],r=t.options.legend,b=A(r.valueDecimals,-1),f=A(r.valueSuffix,""),S=e=>a.series.reduce((l,o)=>(l.push(...o.points.filter(d=>d.dataClass===e)),l),[]);return c.length||a.dataClasses.forEach((e,l)=>{let o=e.from,d=e.to,{numberFormatter:x}=t,n=!0;p="",o===void 0?p="< ":d===void 0&&(p="> "),o!==void 0&&(p+=x(o,b)+f),o!==void 0&&d!==void 0&&(p+=" - "),d!==void 0&&(p+=x(d,b)+f),c.push(D({chart:t,name:p,options:{},drawLegendSymbol:I.rectangle,visible:!0,isDataClass:!0,setState:u=>{for(let T of S(l))T.setState(u)},setVisible:function(){this.visible=n=a.visible=!n;let u=[];for(let T of S(l))T.setVisible(n),T.hiddenInDataClass=!n,u.indexOf(T.series)===-1&&u.push(T.series);t.legend.colorizeItem(this,n),u.forEach(T=>{g(T,"afterDataClassLegendClick")})}},e))}),c}getSize(){let{chart:p,horiz:a}=this,{height:t,width:c}=this.options,{legend:r}=p.options;return{width:A(E(c)?y(c,p.chartWidth):void 0,r==null?void 0:r.symbolWidth,a?i.defaultLegendLength:12),height:A(E(t)?y(t,p.chartHeight):void 0,r==null?void 0:r.symbolHeight,a?12:i.defaultLegendLength)}}}return i.defaultLegendLength=200,i.keepProps=["legendItem"],D(i.prototype,P),Array.prototype.push.apply(w.keepProps,i.keepProps),i}),X(M,"masters/modules/coloraxis.src.js",[M["Core/Globals.js"],M["Core/Axis/Color/ColorAxis.js"]],function(w,z){return w.ColorAxis=w.ColorAxis||z,w.ColorAxis.compose(w.Chart,w.Fx,w.Legend,w.Series),w}),X(M,"Maps/MapNavigationDefaults.js",[],function(){return{lang:{zoomIn:"Zoom in",zoomOut:"Zoom out"},mapNavigation:{buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}}),X(M,"Maps/MapPointer.js",[M["Core/Utilities.js"]],function(w){var z;let{defined:O,extend:P,pick:v,wrap:I}=w;return function(L){let C,B=0;function k(s){let m=this.chart;s=this.normalize(s),m.options.mapNavigation.enableDoubleClickZoomTo?m.pointer.inClass(s.target,"highcharts-tracker")&&m.hoverPoint&&m.hoverPoint.zoomTo():m.isInsidePlot(s.chartX-m.plotLeft,s.chartY-m.plotTop)&&m.mapZoom(.5,void 0,void 0,s.chartX,s.chartY)}function E(s){let m=this.chart,j=O((s=this.normalize(s)).wheelDelta)&&-s.wheelDelta/120||s.deltaY||s.detail;Math.abs(j)>=1&&(B+=Math.abs(j),C&&clearTimeout(C),C=setTimeout(()=>{B=0},50)),B<10&&m.isInsidePlot(s.chartX-m.plotLeft,s.chartY-m.plotTop)&&m.mapView&&m.mapView.zoomBy(-((m.options.mapNavigation.mouseWheelSensitivity-1)*j),void 0,[s.chartX,s.chartY],!(1>Math.abs(j))&&void 0)}function D(s,m,j){let A=this.chart;if(m=s.call(this,m,j),A&&A.mapView){let y=A.mapView.pixelsToLonLat({x:m.chartX-A.plotLeft,y:m.chartY-A.plotTop});y&&P(m,y)}return m}function g(s){let m=this.chart.options.mapNavigation;m&&v(m.enableTouchZoom,m.enabled)&&(this.chart.zooming.pinchType="xy"),s.apply(this,[].slice.call(arguments,1))}L.compose=function(s){let m=s.prototype;m.onContainerDblClick||(P(m,{onContainerDblClick:k,onContainerMouseWheel:E}),I(m,"normalize",D),I(m,"zoomOption",g))}}(z||(z={})),z}),X(M,"Maps/MapSymbols.js",[],function(){let w;function z(P,v,I,L,C){if(C){let B=(C==null?void 0:C.r)||0;C.brBoxY=v-B,C.brBoxHeight=L+B}return w.roundedRect(P,v,I,L,C)}function O(P,v,I,L,C){if(C){let B=(C==null?void 0:C.r)||0;C.brBoxHeight=L+B}return w.roundedRect(P,v,I,L,C)}return{compose:function(P){(w=P.prototype.symbols).bottombutton=z,w.topbutton=O}}}),X(M,"Maps/MapNavigation.js",[M["Core/Defaults.js"],M["Core/Globals.js"],M["Maps/MapNavigationDefaults.js"],M["Maps/MapPointer.js"],M["Maps/MapSymbols.js"],M["Core/Utilities.js"]],function(w,z,O,P,v,I){let{setOptions:L}=w,{composed:C}=z,{addEvent:B,extend:k,merge:E,objectEach:D,pick:g,pushUnique:s}=I;function m(A){A&&(A.preventDefault&&A.preventDefault(),A.stopPropagation&&A.stopPropagation(),A.cancelBubble=!0)}class j{static compose(y,i,h){P.compose(i),v.compose(h),s(C,"Map.Navigation")&&(B(y,"beforeRender",function(){this.mapNavigation=new j(this),this.mapNavigation.update()}),L(O))}constructor(y){this.chart=y,this.navButtons=[]}update(y){let i=this,h=i.chart,p=i.navButtons,a=function(c){this.handler.call(h,c),m(c)},t=h.options.mapNavigation;for(y&&(t=h.options.mapNavigation=E(h.options.mapNavigation,y));p.length;)p.pop().destroy();if(!h.renderer.forExport&&g(t.enableButtons,t.enabled)){i.navButtonsGroup||(i.navButtonsGroup=h.renderer.g().attr({zIndex:7}).add()),D(t.buttons,(r,b)=>{var x;let f={padding:(r=E(t.buttonOptions,r)).padding};!h.styledMode&&r.theme&&(k(f,r.theme),f.style=E(r.theme.style,r.style));let{text:S,width:e=0,height:l=0,padding:o=0}=r,d=h.renderer.button(S!=="+"&&S!=="-"&&S||"",0,0,a,f,void 0,void 0,void 0,b==="zoomIn"?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[b]).attr({width:e,height:l,title:h.options.lang[b],zIndex:5}).add(i.navButtonsGroup);if(S==="+"||S==="-"){let n=e+1,u=[["M",o+3,o+l/2],["L",o+n-3,o+l/2]];S==="+"&&u.push(["M",o+n/2,o+3],["L",o+n/2,o+l-3]),h.renderer.path(u).addClass("highcharts-button-symbol").attr(h.styledMode?{}:{stroke:(x=r.style)==null?void 0:x.color,"stroke-width":3,"stroke-linecap":"round"}).add(d)}if(d.handler=r.onclick,B(d.element,"dblclick",m),p.push(d),k(r,{width:d.width,height:2*(d.height||0)}),h.hasLoaded)d.align(r,!1,r.alignTo);else{let n=B(h,"load",()=>{d.element&&d.align(r,!1,r.alignTo),n()})}});let c=(r,b)=>!(b.x>=r.x+r.width||b.x+b.width<=r.x||b.y>=r.y+r.height||b.y+b.height<=r.y);h.hasLoaded||B(h,"render",function(){let r=h.exportingGroup&&h.exportingGroup.getBBox();if(r){let b=i.navButtonsGroup.getBBox();if(c(r,b)){let f=-b.y-b.height+r.y-5,S=r.y+r.height-b.y+5,e=t.buttonOptions&&t.buttonOptions.verticalAlign;i.navButtonsGroup.attr({translateY:e==="bottom"?f:S})}}})}this.updateEvents(t)}updateEvents(y){let i=this.chart;g(y.enableDoubleClickZoom,y.enabled)||y.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||B(i.container,"dblclick",function(h){i.pointer.onContainerDblClick(h)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),g(y.enableMouseWheelZoom,y.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||B(i.container,"wheel",function(h){return i.pointer.inClass(h.target,"highcharts-no-mousewheel")||(i.pointer.onContainerMouseWheel(h),m(h)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())}}return j}),X(M,"Series/ColorMapComposition.js",[M["Core/Series/SeriesRegistry.js"],M["Core/Renderer/SVG/SVGElement.js"],M["Core/Utilities.js"]],function(w,z,O){var P;let{column:{prototype:v}}=w.seriesTypes,{addEvent:I,defined:L}=O;return function(C){function B(k){let E=this.series,D=E.chart.renderer;this.moveToTopOnHover&&this.graphic&&(E.stateMarkerGraphic||(E.stateMarkerGraphic=new z(D,"use").css({pointerEvents:"none"}).add(this.graphic.parentGroup)),(k==null?void 0:k.state)==="hover"?(this.graphic.attr({id:this.id}),E.stateMarkerGraphic.attr({href:`${D.url}#${this.id}`,visibility:"visible"})):E.stateMarkerGraphic.attr({href:""}))}C.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return this.value!==null&&this.value!==1/0&&this.value!==-1/0&&(this.value===void 0||!isNaN(this.value))}},C.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(k){let E={};return L(k.color)&&(!k.state||k.state==="normal")&&(E[this.colorProp||"fill"]=k.color),E},pointAttribs:v.pointAttribs},C.compose=function(k){return I(k.prototype.pointClass,"afterSetState",B),k}}(P||(P={})),P}),X(M,"Core/Chart/MapChart.js",[M["Core/Chart/Chart.js"],M["Core/Defaults.js"],M["Core/Renderer/SVG/SVGRenderer.js"],M["Core/Utilities.js"]],function(w,z,O,P){var v;let{getOptions:I}=z,{isNumber:L,merge:C,pick:B}=P;class k extends w{init(D,g){let s=I().credits,m=C({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:B(s.mapText,' Â© <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:B(s.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},D);super.init(m,g)}mapZoom(D,g,s,m,j){this.mapView&&(L(D)&&(D=Math.log(D)/Math.log(.5)),this.mapView.zoomBy(D,L(g)&&L(s)?this.mapView.projection.inverse([g,s]):void 0,L(m)&&L(j)?[m,j]:void 0))}update(D){var g;D.chart&&"map"in D.chart&&((g=this.mapView)==null||g.recommendMapView(this,[D.chart.map,...(this.options.series||[]).map(s=>s.mapData)],!0)),super.update.apply(this,arguments)}}return(v=k||(k={})).maps={},v.mapChart=function(E,D,g){return new v(E,D,g)},v.splitPath=function(E){let D;return D=typeof E=="string"?(E=E.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(g=>/[A-Za-z]/.test(g)?g:parseFloat(g)):E,O.prototype.pathToSegments(D)},k}),X(M,"Maps/MapUtilities.js",[],function(){return{boundsFromPath:function(w){let z=-Number.MAX_VALUE,O=Number.MAX_VALUE,P=-Number.MAX_VALUE,v=Number.MAX_VALUE,I;if(w.forEach(L=>{let C=L[L.length-2],B=L[L.length-1];typeof C=="number"&&typeof B=="number"&&(O=Math.min(O,C),z=Math.max(z,C),v=Math.min(v,B),P=Math.max(P,B),I=!0)}),I)return{x1:O,y1:v,x2:z,y2:P}},pointInPolygon:function({x:w,y:z},O){let P,v,I=!1;for(P=0,v=O.length-1;P<O.length;v=P++)O[P][1]>z!=O[v][1]>z&&w<(O[v][0]-O[P][0])*(z-O[P][1])/(O[v][1]-O[P][1])+O[P][0]&&(I=!I);return I}}}),X(M,"Series/Map/MapPoint.js",[M["Series/ColorMapComposition.js"],M["Maps/MapUtilities.js"],M["Core/Series/SeriesRegistry.js"],M["Core/Utilities.js"]],function(w,z,O,P){let{boundsFromPath:v}=z,I=O.seriesTypes.scatter.prototype.pointClass,{extend:L,isNumber:C,pick:B}=P;class k extends I{static getProjectedPath(D,g){return D.projectedPath||(g&&D.geometry?(g.hasCoordinates=!0,D.projectedPath=g.path(D.geometry)):D.projectedPath=D.path),D.projectedPath||[]}applyOptions(D,g){let s=this.series,m=super.applyOptions(D,g),j=s.joinBy;if(s.mapData&&s.mapMap){let A=j[1],y=super.getNestedProperty(A),i=y!==void 0&&s.mapMap[y];i?L(m,{...i,name:m.name??i.name}):s.pointArrayMap.indexOf("value")!==-1&&(m.value=m.value||null)}return m}getProjectedBounds(D){let g=v(k.getProjectedPath(this,D)),s=this.properties,m=this.series.chart.mapView;if(g){let j=s&&s["hc-middle-lon"],A=s&&s["hc-middle-lat"];if(m&&C(j)&&C(A)){let y=D.forward([j,A]);g.midX=y[0],g.midY=y[1]}else{let y=s&&s["hc-middle-x"],i=s&&s["hc-middle-y"];g.midX=g.x1+(g.x2-g.x1)*B(this.middleX,C(y)?y:.5);let h=B(this.middleY,C(i)?i:.5);this.geometry||(h=1-h),g.midY=g.y2-(g.y2-g.y1)*h}return g}}onMouseOver(D){P.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?super.onMouseOver.call(this,D):this.series.onMouseOut()}setVisible(D){this.visible=this.options.visible=!!D,this.dataLabel&&this.dataLabel[D?"show":"hide"](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))}zoomTo(D){let g=this.series.chart,s=g.mapView,m=this.bounds;if(s&&m){let j=C(this.insetIndex)&&s.insets[this.insetIndex];if(j){let A=j.projectedUnitsToPixels({x:m.x1,y:m.y1}),y=j.projectedUnitsToPixels({x:m.x2,y:m.y2}),i=s.pixelsToProjectedUnits({x:A.x,y:A.y}),h=s.pixelsToProjectedUnits({x:y.x,y:y.y});m={x1:i.x,y1:i.y,x2:h.x,y2:h.y}}s.fitToBounds(m,void 0,!1),this.series.isDirty=!0,g.redraw(D)}}}return L(k.prototype,{dataLabelOnNull:w.pointMembers.dataLabelOnNull,moveToTopOnHover:w.pointMembers.moveToTopOnHover,isValid:w.pointMembers.isValid}),k}),X(M,"Series/Map/MapSeriesDefaults.js",[M["Core/Utilities.js"]],function(w){let{isNumber:z}=w;return{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){let{numberFormatter:O}=this.series.chart,{value:P}=this.point;return z(P)?O(P,-1):this.point.name},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"}}),X(M,"Maps/MapViewDefaults.js",[],function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0,insetOptions:{borderColor:"#cccccc",borderWidth:1,padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}}}),X(M,"Maps/GeoJSONComposition.js",[M["Core/Globals.js"],M["Core/Templating.js"],M["Core/Utilities.js"]],function(w,z,O){var P;let{win:v}=w,{format:I}=z,{error:L,extend:C,merge:B,wrap:k}=O;return function(E){function D(y){return this.mapView&&this.mapView.lonLatToProjectedUnits(y)}function g(y){return this.mapView&&this.mapView.projectedUnitsToLonLat(y)}function s(y,i){let h=this.options.chart.proj4||v.proj4;if(!h){L(21,!1,this);return}let{jsonmarginX:p=0,jsonmarginY:a=0,jsonres:t=1,scale:c=1,xoffset:r=0,xpan:b=0,yoffset:f=0,ypan:S=0}=i,e=h(i.crs,[y.lon,y.lat]),l=i.cosAngle||i.rotation&&Math.cos(i.rotation),o=i.sinAngle||i.rotation&&Math.sin(i.rotation),d=i.rotation?[e[0]*l+e[1]*o,-e[0]*o+e[1]*l]:e;return{x:((d[0]-r)*c+b)*t+p,y:-(((f-d[1])*c+S)*t-a)}}function m(y,i){let h=this.options.chart.proj4||v.proj4;if(!h){L(21,!1,this);return}if(y.y===null)return;let{jsonmarginX:p=0,jsonmarginY:a=0,jsonres:t=1,scale:c=1,xoffset:r=0,xpan:b=0,yoffset:f=0,ypan:S=0}=i,e={x:((y.x-p)/t-b)/c+r,y:((y.y-a)/t+S)/c+f},l=i.cosAngle||i.rotation&&Math.cos(i.rotation),o=i.sinAngle||i.rotation&&Math.sin(i.rotation),d=h(i.crs,"WGS84",i.rotation?{x:e.x*l+-(e.y*o),y:e.x*o+e.y*l}:e);return{lat:d.y,lon:d.x}}function j(y,i){i||(i=Object.keys(y.objects)[0]);let h=y.objects[i];if(h["hc-decoded-geojson"]&&h["hc-decoded-geojson"].title===y.title)return h["hc-decoded-geojson"];let p=y.arcs;if(y.transform){let b,f,S,e=y.arcs,{scale:l,translate:o}=y.transform;p=[];for(let d=0,x=e.length;d<x;++d){let n=e[d];p.push(b=[]),f=0,S=0;for(let u=0,T=n.length;u<T;++u)b.push([(f+=n[u][0])*l[0]+o[0],(S+=n[u][1])*l[1]+o[1]])}}let a=b=>typeof b[0]=="number"?b.reduce((f,S,e)=>{let l=S<0?p[~S]:p[S];return S<0?(l=l.slice(0,e===0?l.length:l.length-1)).reverse():e&&(l=l.slice(1)),f.concat(l)},[]):b.map(a),t=h.geometries,c=[];for(let b=0,f=t.length;b<f;++b)c.push({type:"Feature",properties:t[b].properties,geometry:{type:t[b].type,coordinates:t[b].coordinates||a(t[b].arcs)}});let r={type:"FeatureCollection",copyright:y.copyright,copyrightShort:y.copyrightShort,copyrightUrl:y.copyrightUrl,features:c,"hc-recommended-mapview":h["hc-recommended-mapview"],bbox:y.bbox,title:y.title};return h["hc-decoded-geojson"]=r,r}function A(y,i){i=B(!0,this.options.credits,i),this.mapCredits&&(i.href=void 0),y.call(this,i),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})}E.compose=function(y){let i=y.prototype;i.transformFromLatLon||(i.fromLatLonToPoint=D,i.fromPointToLatLon=g,i.transformFromLatLon=s,i.transformToLatLon=m,k(i,"addCredits",A))},E.geojson=function(y,i="map",h){var c,r;let p=[],a=y.type==="Topology"?j(y):y,t=a.features;for(let b=0,f=t.length;b<f;++b){let S,e=t[b],l=e.geometry||{},o=l.type,d=l.coordinates,x=e.properties;if((i==="map"||i==="mapbubble")&&(o==="Polygon"||o==="MultiPolygon")?d.length&&(S={geometry:{coordinates:d,type:o}}):i==="mapline"&&(o==="LineString"||o==="MultiLineString")?d.length&&(S={geometry:{coordinates:d,type:o}}):i==="mappoint"&&o==="Point"&&d.length&&(S={geometry:{coordinates:d,type:o}}),S){let n=x&&(x.name||x.NAME),u=x&&x.lon,T=x&&x.lat;p.push(C(S,{lat:typeof T=="number"?T:void 0,lon:typeof u=="number"?u:void 0,name:typeof n=="string"?n:void 0,properties:x}))}}return h&&a.copyrightShort&&(h.chart.mapCredits=I((c=h.chart.options.credits)==null?void 0:c.mapText,{geojson:a}),h.chart.mapCreditsFull=I((r=h.chart.options.credits)==null?void 0:r.mapTextFull,{geojson:a})),p},E.topo2geo=j}(P||(P={})),P}),X(M,"Core/Geometry/PolygonClip.js",[],function(){function w(P,v,I=!0){let L=v[v.length-1],C,B,k,E=P;for(let D=0;D<v.length;D++){let g=E;C=v[D],E=[],B=I?g[g.length-1]:g[0];for(let s=0;s<g.length;s++)z(L,C,k=g[s])?(z(L,C,B)||E.push(O(L,C,B,k)),E.push(k)):z(L,C,B)&&E.push(O(L,C,B,k)),B=k;L=C}return E}function z(P,v,I){return(v[0]-P[0])*(I[1]-P[1])>(v[1]-P[1])*(I[0]-P[0])}function O(P,v,I,L){let C=[P[0]-v[0],P[1]-v[1]],B=[I[0]-L[0],I[1]-L[1]],k=P[0]*v[1]-P[1]*v[0],E=I[0]*L[1]-I[1]*L[0],D=1/(C[0]*B[1]-C[1]*B[0]),g=[(k*B[0]-E*C[0])*D,(k*B[1]-E*C[1])*D];return g.isIntersection=!0,g}return{clipLineString:function(P,v){let I=[],L=w(P,v,!1);for(let C=1;C<L.length;C++)L[C].isIntersection&&L[C-1].isIntersection&&(I.push(L.splice(0,C)),C=0),C===L.length-1&&I.push(L);return I},clipPolygon:w}}),X(M,"Maps/Projections/LambertConformalConic.js",[],function(){let w=Math.sign||(v=>v===0?0:v>0?1:-1),z=Math.PI/180,O=Math.PI/2,P=v=>Math.tan((O+v)/2);return class{constructor(v){let I=(v.parallels||[]).map(E=>E*z),L=I[0]||0,C=I[1]??L,B=Math.cos(L);typeof v.projectedBounds=="object"&&(this.projectedBounds=v.projectedBounds);let k=L===C?Math.sin(L):Math.log(B/Math.cos(C))/Math.log(P(C)/P(L));1e-10>Math.abs(k)&&(k=1e-10*(w(k)||1)),this.n=k,this.c=B*Math.pow(P(L),k)/k}forward(v){let{c:I,n:L,projectedBounds:C}=this,B=v[0]*z,k=v[1]*z;I>0?k<-O+1e-6&&(k=-O+1e-6):k>O-1e-6&&(k=O-1e-6);let E=I/Math.pow(P(k),L),D=E*Math.sin(L*B)*63.78137,g=(I-E*Math.cos(L*B))*63.78137,s=[D,g];return C&&(D<C.x1||D>C.x2||g<C.y1||g>C.y2)&&(s.outside=!0),s}inverse(v){let{c:I,n:L}=this,C=v[0]/63.78137,B=I-v[1]/63.78137,k=w(L)*Math.sqrt(C*C+B*B),E=Math.atan2(C,Math.abs(B))*w(B);return B*L<0&&(E-=Math.PI*w(C)*w(B)),[E/L/z,(2*Math.atan(Math.pow(I/k,1/L))-O)/z]}}}),X(M,"Maps/Projections/EqualEarth.js",[],function(){let w=Math.sqrt(3)/2;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}forward(z){let O=Math.PI/180,P=Math.asin(w*Math.sin(z[1]*O)),v=P*P,I=v*v*v;return[z[0]*O*Math.cos(P)*74.03120656864502/(w*(1.340264+-.24331799999999998*v+I*(.0062510000000000005+.034164*v))),74.03120656864502*P*(1.340264+-.081106*v+I*(893e-6+.003796*v))]}inverse(z){let O=z[0]/74.03120656864502,P=z[1]/74.03120656864502,v=180/Math.PI,I=P,L,C,B,k;for(let g=0;g<12&&(C=(L=I*I)*L*L,B=I*(1.340264+-.081106*L+C*(893e-6+.003796*L))-P,I-=k=B/(1.340264+-.24331799999999998*L+C*(.0062510000000000005+.034164*L)),!(1e-9>Math.abs(k)));++g);C=(L=I*I)*L*L;let E=v*w*O*(1.340264+-.24331799999999998*L+C*(.0062510000000000005+.034164*L))/Math.cos(I),D=v*Math.asin(Math.sin(I)/w);return Math.abs(E)>180?[NaN,NaN]:[E,D]}}}),X(M,"Maps/Projections/Miller.js",[],function(){let w=Math.PI/4,z=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}forward(O){return[O[0]*z*63.78137,79.7267125*Math.log(Math.tan(w+.4*O[1]*z))]}inverse(O){return[O[0]/63.78137/z,2.5*(Math.atan(Math.exp(O[1]/63.78137*.8))-w)/z]}}}),X(M,"Maps/Projections/Orthographic.js",[],function(){let w=Math.PI/180;return class{constructor(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}forward(z){let O=z[0],P=z[1]*w,v=[Math.cos(P)*Math.sin(O*w)*63.78460826781007,63.78460826781007*Math.sin(P)];return(O<-90||O>90)&&(v.outside=!0),v}inverse(z){let O=z[0]/63.78460826781007,P=z[1]/63.78460826781007,v=Math.sqrt(O*O+P*P),I=Math.asin(v),L=Math.sin(I);return[Math.atan2(O*L,v*Math.cos(I))/w,Math.asin(v&&P*L/v)/w]}}}),X(M,"Maps/Projections/WebMercator.js",[],function(){let w=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}forward(z){let O=Math.sin(z[1]*w),P=[63.78137*z[0]*w,63.78137*Math.log((1+O)/(1-O))/2];return Math.abs(z[1])>this.maxLatitude&&(P.outside=!0),P}inverse(z){return[z[0]/(63.78137*w),(2*Math.atan(Math.exp(z[1]/63.78137))-Math.PI/2)/w]}}}),X(M,"Maps/Projections/ProjectionRegistry.js",[M["Maps/Projections/LambertConformalConic.js"],M["Maps/Projections/EqualEarth.js"],M["Maps/Projections/Miller.js"],M["Maps/Projections/Orthographic.js"],M["Maps/Projections/WebMercator.js"]],function(w,z,O,P,v){return{EqualEarth:z,LambertConformalConic:w,Miller:O,Orthographic:P,WebMercator:v}}),X(M,"Maps/Projection.js",[M["Core/Geometry/PolygonClip.js"],M["Maps/Projections/ProjectionRegistry.js"],M["Core/Utilities.js"]],function(w,z,O){let{clipLineString:P,clipPolygon:v}=w,{clamp:I,erase:L}=O,C=2*Math.PI/360,B=g=>(g<-180&&(g+=360),g>180&&(g-=360),g),k=g=>(1-Math.cos(g))/2,E=(g,s)=>{let m=Math.cos,j=g[1]*C,A=g[0]*C,y=s[1]*C,i=s[0]*C;return k(y-j)+m(j)*m(y)*k(i-A)};class D{static add(s,m){D.registry[s]=m}static distance(s,m){let{atan2:j,sqrt:A}=Math,y=E(s,m);return 2*j(A(y),A(1-y))*6371e3}static geodesic(s,m,j,A=5e5){let{atan2:y,cos:i,sin:h,sqrt:p}=Math,a=D.distance,t=s[1]*C,c=s[0]*C,r=m[1]*C,b=m[0]*C,f=i(t)*i(c),S=i(r)*i(b),e=i(t)*h(c),l=i(r)*h(b),o=h(t),d=h(r),x=a(s,m),n=x/6371e3,u=h(n),T=Math.round(x/A),G=[];if(j&&G.push(s),T>1){let V=1/T;for(let U=V;U<.999;U+=V){let Y=h((1-U)*n)/u,Z=h(U*n)/u,H=Y*f+Z*S,N=Y*e+Z*l,q=y(Y*o+Z*d,p(H*H+N*N)),F=y(N,H);G.push([F/C,q/C])}}return j&&G.push(m),G}static insertGeodesics(s){let m=s.length-1;for(;m--;)if(Math.max(Math.abs(s[m][0]-s[m+1][0]),Math.abs(s[m][1]-s[m+1][1]))>10){let j=D.geodesic(s[m],s[m+1]);j.length&&s.splice(m+1,0,...j)}}static toString(s){let{name:m,rotation:j}=s||{};return[m,j&&j.join(",")].join(";")}constructor(s={}){this.hasCoordinates=!1,this.hasGeoProjection=!1,this.maxLatitude=90,this.options=s;let{name:m,projectedBounds:j,rotation:A}=s;this.rotator=A?this.getRotator(A):void 0;let y=m?D.registry[m]:void 0;y&&(this.def=new y(s));let{def:i,rotator:h}=this;i&&(this.maxLatitude=i.maxLatitude||90,this.hasGeoProjection=!0),h&&i?(this.forward=p=>i.forward(h.forward(p)),this.inverse=p=>h.inverse(i.inverse(p))):i?(this.forward=p=>i.forward(p),this.inverse=p=>i.inverse(p)):h&&(this.forward=h.forward,this.inverse=h.inverse),this.bounds=j==="world"?i&&i.bounds:j}lineIntersectsBounds(s){let{x1:m,x2:j,y1:A,y2:y}=this.bounds||{},i=(a,t,c)=>{let[r,b]=a,f=t?0:1;if(typeof c=="number"&&r[t]>=c!=b[t]>=c){let S=(c-r[t])/(b[t]-r[t]),e=r[f]+S*(b[f]-r[f]);return t?[e,c]:[c,e]}},h,p=s[0];return((h=i(s,0,m))||(h=i(s,0,j)))&&(p=h,s[1]=h),((h=i(s,1,A))||(h=i(s,1,y)))&&(p=h),p}getRotator(s){let m=s[0]*C,j=(s[1]||0)*C,A=(s[2]||0)*C,y=Math.cos(j),i=Math.sin(j),h=Math.cos(A),p=Math.sin(A);if(m!==0||j!==0||A!==0)return{forward:a=>{let t=a[0]*C+m,c=a[1]*C,r=Math.cos(c),b=Math.cos(t)*r,f=Math.sin(t)*r,S=Math.sin(c),e=S*y+b*i;return[Math.atan2(f*h-e*p,b*y-S*i)/C,Math.asin(e*h+f*p)/C]},inverse:a=>{let t=a[0]*C,c=a[1]*C,r=Math.cos(c),b=Math.cos(t)*r,f=Math.sin(t)*r,S=Math.sin(c),e=S*h-f*p;return[(Math.atan2(f*h+S*p,b*y+e*i)-m)/C,Math.asin(e*y-b*i)/C]}}}forward(s){return s}inverse(s){return s}cutOnAntimeridian(s,m){let j,A=[],y=[s];for(let i=0,h=s.length;i<h;++i){let p=s[i],a=s[i-1];if(!i){if(!m)continue;a=s[s.length-1]}let t=a[0],c=p[0];if((t<-90||t>90)&&(c<-90||c>90)&&t>0!=c>0){let r=I((180-(t+360)%360)/((c+360)%360-(t+360)%360),0,1),b=a[1]+r*(p[1]-a[1]);A.push({i,lat:b,direction:t<0?1:-1,previousLonLat:a,lonLat:p})}}if(A.length)if(m){A.length%2==1&&(j=A.slice().sort((h,p)=>Math.abs(p.lat)-Math.abs(h.lat))[0],L(A,j));let i=A.length-2;for(;i>=0;){let h=A[i].i,p=B(180+1e-6*A[i].direction),a=B(180-1e-6*A[i].direction),t=s.splice(h,A[i+1].i-h,...D.geodesic([p,A[i].lat],[p,A[i+1].lat],!0));t.push(...D.geodesic([a,A[i+1].lat],[a,A[i].lat],!0)),y.push(t),i-=2}if(j)for(let h=0;h<y.length;h++){let{direction:p,lat:a}=j,t=y[h],c=t.indexOf(j.lonLat);if(c>-1){let r=(a<0?-1:1)*this.maxLatitude,b=B(180+1e-6*p),f=B(180-1e-6*p),S=D.geodesic([b,a],[b,r],!0);for(let e=b+120*p;e>-180&&e<180;e+=120*p)S.push([e,r]);S.push(...D.geodesic([f,r],[f,j.lat],!0)),t.splice(c,0,...S);break}}}else{let i=A.length;for(;i--;){let h=A[i].i,p=s.splice(h,s.length,[B(180+1e-6*A[i].direction),A[i].lat]);p.unshift([B(180-1e-6*A[i].direction),A[i].lat]),y.push(p)}}return y}path(s){let m,{bounds:j,def:A,rotator:y}=this,i=[],h=s.type==="Polygon"||s.type==="MultiPolygon",p=this.hasGeoProjection,a=!A||A.antimeridianCutting!==!1,t=a?y:void 0,c=a&&A||this;j&&(m=[[j.x1,j.y1],[j.x2,j.y1],[j.x2,j.y2],[j.x1,j.y2]]);let r=b=>{let f=b.map(e=>{if(a){t&&(e=t.forward(e));let l=e[0];1e-6>Math.abs(l-180)&&(l=l<180?179.999999:180.000001),e=[l,e[1]]}return e}),S=[f];p&&(D.insertGeodesics(f),a&&(S=this.cutOnAntimeridian(f,h))),S.forEach(e=>{let l,o;if(e.length<2)return;let d=!1,x=!1,n=V=>{d?i.push(["L",V[0],V[1]]):(i.push(["M",V[0],V[1]]),d=!0)},u=!1,T=!1,G=e.map(V=>{let U=c.forward(V);return U.outside?u=!0:T=!0,U[1]===1/0?U[1]=1e10:U[1]===-1/0&&(U[1]=-1e10),U});if(a){if(h&&G.push(G[0]),u){if(!T)return;if(m){if(h)G=v(G,m);else if(j){P(G,m).forEach(V=>{d=!1,V.forEach(n)});return}}}G.forEach(n)}else for(let V=0;V<G.length;V++){let U=e[V],Y=G[V];Y.outside?x=!0:(h&&!l&&(l=U,e.push(U),G.push(Y)),x&&o&&(h&&p?D.geodesic(o,U).forEach(Z=>n(c.forward(Z))):d=!1),n(Y),o=U,x=!1)}})};return s.type==="LineString"?r(s.coordinates):s.type==="MultiLineString"?s.coordinates.forEach(b=>r(b)):s.type==="Polygon"?(s.coordinates.forEach(b=>r(b)),i.length&&i.push(["Z"])):s.type==="MultiPolygon"&&(s.coordinates.forEach(b=>{b.forEach(f=>r(f))}),i.length&&i.push(["Z"])),i}}return D.registry=z,D}),X(M,"Maps/MapView.js",[M["Core/Globals.js"],M["Maps/MapViewDefaults.js"],M["Maps/GeoJSONComposition.js"],M["Maps/MapUtilities.js"],M["Maps/Projection.js"],M["Core/Utilities.js"]],function(w,z,O,P,v,I){let{composed:L}=w,{topo2geo:C}=O,{boundsFromPath:B,pointInPolygon:k}=P,{addEvent:E,clamp:D,crisp:g,fireEvent:s,isArray:m,isNumber:j,isObject:A,isString:y,merge:i,pick:h,pushUnique:p,relativeLength:a}=I,t={};function c(S,e){let{width:l,height:o}=e;return Math.log(400.979322/Math.max((S.x2-S.x1)/(l/256),(S.y2-S.y1)/(o/256)))/Math.log(2)}function r(S){var e,l;S.seriesOptions.mapData&&((l=this.mapView)==null||l.recommendMapView(this,[this.options.chart.map,S.seriesOptions.mapData],(e=this.options.drilldown)==null?void 0:e.mapZooming))}class b{static compose(e){p(L,"MapView")&&(t=e.maps,E(e,"afterInit",function(){this.mapView=new b(this,this.options.mapView)},{order:0}),E(e,"addSeriesAsDrilldown",r),E(e,"afterDrillUp",r))}static compositeBounds(e){if(e.length)return e.slice(1).reduce((l,o)=>(l.x1=Math.min(l.x1,o.x1),l.y1=Math.min(l.y1,o.y1),l.x2=Math.max(l.x2,o.x2),l.y2=Math.max(l.y2,o.y2),l),i(e[0]))}static mergeInsets(e,l){let o=x=>{let n={};return x.forEach((u,T)=>{n[u&&u.id||`i${T}`]=u}),n},d=i(o(e),o(l));return Object.keys(d).map(x=>d[x])}constructor(e,l){var n;this.allowTransformAnimation=!0,this.eventsToUnbind=[],this.insets=[],this.padding=[0,0,0,0],this.recommendedMapView={},this instanceof f||this.recommendMapView(e,[e.options.chart.map,...(e.options.series||[]).map(u=>u.mapData)]),this.userOptions=l||{};let o=i(z,this.recommendedMapView,l),d=(n=this.recommendedMapView)==null?void 0:n.insets,x=l&&l.insets;d&&x&&(o.insets=b.mergeInsets(d,x)),this.chart=e,this.center=o.center,this.options=o,this.projection=new v(o.projection),this.playingField=e.plotBox,this.zoom=o.zoom||0,this.minZoom=o.minZoom,this.createInsets(),this.eventsToUnbind.push(E(e,"afterSetChartSize",()=>{this.playingField=this.getField(),(this.minZoom===void 0||this.minZoom===this.zoom)&&(this.fitToBounds(void 0,void 0,!1),!this.chart.hasRendered&&j(this.userOptions.zoom)&&(this.zoom=this.userOptions.zoom),this.userOptions.center&&i(!0,this.center,this.userOptions.center))})),this.setUpEvents()}createInsets(){let e=this.options,l=e.insets;l&&l.forEach(o=>{let d=new f(this,i(e.insetOptions,o));this.insets.push(d)})}fitToBounds(e,l,o=!0,d){let x=e||this.getProjectedBounds();if(x){let n=h(l,e?0:this.options.padding),u=this.getField(!1),T=m(n)?n:[n,n,n,n];this.padding=[a(T[0],u.height),a(T[1],u.width),a(T[2],u.height),a(T[3],u.width)],this.playingField=this.getField();let G=c(x,this.playingField);e||(this.minZoom=G);let V=this.projection.inverse([(x.x2+x.x1)/2,(x.y2+x.y1)/2]);this.setView(V,G,o,d)}}getField(e=!0){let l=e?this.padding:[0,0,0,0];return{x:l[3],y:l[0],width:this.chart.plotWidth-l[1]-l[3],height:this.chart.plotHeight-l[0]-l[2]}}getGeoMap(e){if(y(e))return t[e]&&t[e].type==="Topology"?C(t[e]):t[e];if(A(e,!0)){if(e.type==="FeatureCollection")return e;if(e.type==="Topology")return C(e)}}getMapBBox(){let e=this.getProjectedBounds(),l=this.getScale();if(e){let o=this.padding,d=this.projectedUnitsToPixels({x:e.x1,y:e.y2});return{width:(e.x2-e.x1)*l+o[1]+o[3],height:(e.y2-e.y1)*l+o[0]+o[2],x:d.x-o[3],y:d.y-o[0]}}}getProjectedBounds(){let e=this.projection,l=this.chart.series.reduce((d,x)=>{let n=x.getProjectedBounds&&x.getProjectedBounds();return n&&x.options.affectsMapView!==!1&&d.push(n),d},[]),o=this.options.fitToGeometry;if(o){if(!this.fitToGeometryCache)if(o.type==="MultiPoint"){let d=o.coordinates.map(u=>e.forward(u)),x=d.map(u=>u[0]),n=d.map(u=>u[1]);this.fitToGeometryCache={x1:Math.min.apply(0,x),x2:Math.max.apply(0,x),y1:Math.min.apply(0,n),y2:Math.max.apply(0,n)}}else this.fitToGeometryCache=B(e.path(o));return this.fitToGeometryCache}return this.projection.bounds||b.compositeBounds(l)}getScale(){return 256/400.979322*Math.pow(2,this.zoom)}getSVGTransform(){let{x:e,y:l,width:o,height:d}=this.playingField,x=this.projection.forward(this.center),n=this.projection.hasCoordinates?-1:1,u=this.getScale(),T=u*n,G=e+o/2-x[0]*u,V=l+d/2-x[1]*T;return{scaleX:u,scaleY:T,translateX:G,translateY:V}}lonLatToPixels(e){let l=this.lonLatToProjectedUnits(e);if(l)return this.projectedUnitsToPixels(l)}lonLatToProjectedUnits(e){let l=this.chart,o=l.mapTransforms;if(o){for(let x in o)if(Object.hasOwnProperty.call(o,x)&&o[x].hitZone){let n=l.transformFromLatLon(e,o[x]);if(n&&k(n,o[x].hitZone.coordinates[0]))return n}return l.transformFromLatLon(e,o.default)}for(let x of this.insets)if(x.options.geoBounds&&k({x:e.lon,y:e.lat},x.options.geoBounds.coordinates[0])){let n=x.projection.forward([e.lon,e.lat]),u=x.projectedUnitsToPixels({x:n[0],y:n[1]});return this.pixelsToProjectedUnits(u)}let d=this.projection.forward([e.lon,e.lat]);if(!d.outside)return{x:d[0],y:d[1]}}projectedUnitsToLonLat(e){let l=this.chart,o=l.mapTransforms;if(o){for(let n in o)if(Object.hasOwnProperty.call(o,n)&&o[n].hitZone&&k(e,o[n].hitZone.coordinates[0]))return l.transformToLatLon(e,o[n]);return l.transformToLatLon(e,o.default)}let d=this.projectedUnitsToPixels(e);for(let n of this.insets)if(n.hitZone&&k(d,n.hitZone.coordinates[0])){let u=n.pixelsToProjectedUnits(d),T=n.projection.inverse([u.x,u.y]);return{lon:T[0],lat:T[1]}}let x=this.projection.inverse([e.x,e.y]);return{lon:x[0],lat:x[1]}}recommendMapView(e,l,o=!1){var u;this.recommendedMapView={};let d=l.map(T=>this.getGeoMap(T)),x=[];d.forEach(T=>{if(T&&(Object.keys(this.recommendedMapView).length||(this.recommendedMapView=T["hc-recommended-mapview"]||{}),T.bbox)){let[G,V,U,Y]=T.bbox;x.push({x1:G,y1:V,x2:U,y2:Y})}});let n=x.length&&b.compositeBounds(x);s(this,"onRecommendMapView",{geoBounds:n,chart:e},function(){if(n&&this.recommendedMapView){if(!this.recommendedMapView.projection){let{x1:T,y1:G,x2:V,y2:U}=n;this.recommendedMapView.projection=V-T>180&&U-G>90?{name:"EqualEarth",parallels:[0,0],rotation:[0]}:{name:"LambertConformalConic",parallels:[G,U],rotation:[-(T+V)/2]}}this.recommendedMapView.insets||(this.recommendedMapView.insets=void 0)}}),this.geoMap=d[0],o&&e.hasRendered&&!((u=e.userOptions.mapView)!=null&&u.projection)&&this.recommendedMapView&&this.update(this.recommendedMapView)}redraw(e){this.chart.series.forEach(l=>{l.useMapGeometry&&(l.isDirty=!0)}),this.chart.redraw(e)}setView(e,l,o=!0,d){e&&(this.center=e),typeof l=="number"&&(typeof this.minZoom=="number"&&(l=Math.max(l,this.minZoom)),typeof this.options.maxZoom=="number"&&(l=Math.min(l,this.options.maxZoom)),j(l)&&(this.zoom=l));let x=this.getProjectedBounds();if(x){let n=this.projection.forward(this.center),{x:u,y:T,width:G,height:V}=this.playingField,U=this.getScale(),Y=this.projectedUnitsToPixels({x:x.x1,y:x.y1}),Z=this.projectedUnitsToPixels({x:x.x2,y:x.y2}),H=[(x.x1+x.x2)/2,(x.y1+x.y2)/2];if(!this.chart.series.some(N=>N.isDrilling)){let N=Y.x,q=Z.y,F=Z.x,R=Y.y;F-N<G?n[0]=H[0]:N<u&&F<u+G?n[0]+=Math.max(N-u,F-G-u)/U:F>u+G&&N>u&&(n[0]+=Math.min(F-G-u,N-u)/U),R-q<V?n[1]=H[1]:q<T&&R<T+V?n[1]-=Math.max(q-T,R-V-T)/U:R>T+V&&q>T&&(n[1]-=Math.min(R-V-T,q-T)/U),this.center=this.projection.inverse(n)}this.insets.forEach(N=>{N.options.field&&(N.hitZone=N.getHitZone(),N.playingField=N.getField())}),this.render()}s(this,"afterSetView"),o&&this.redraw(d)}projectedUnitsToPixels(e){let l=this.getScale(),o=this.projection.forward(this.center),d=this.playingField,x=d.x+d.width/2,n=d.y+d.height/2;return{x:x-l*(o[0]-e.x),y:n+l*(o[1]-e.y)}}pixelsToLonLat(e){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(e))}pixelsToProjectedUnits(e){let{x:l,y:o}=e,d=this.getScale(),x=this.projection.forward(this.center),n=this.playingField,u=n.x+n.width/2,T=n.y+n.height/2;return{x:x[0]+(l-u)/d,y:x[1]-(o-T)/d}}setUpEvents(){let e,l,o,{chart:d}=this,x=n=>{let{lastTouches:u,pinchDown:T}=d.pointer,G=this.projection,V=n.touches,{mouseDownX:U,mouseDownY:Y}=d,Z=0;if((T==null?void 0:T.length)===1?(U=T[0].chartX,Y=T[0].chartY):(T==null?void 0:T.length)===2&&(U=(T[0].chartX+T[1].chartX)/2,Y=(T[0].chartY+T[1].chartY)/2),(V==null?void 0:V.length)===2&&u&&(Z=Math.log(Math.sqrt(Math.pow(u[0].chartX-u[1].chartX,2)+Math.pow(u[0].chartY-u[1].chartY,2))/Math.sqrt(Math.pow(V[0].chartX-V[1].chartX,2)+Math.pow(V[0].chartY-V[1].chartY,2)))/Math.log(.5)),j(U)&&j(Y)){let H=`${U},${Y}`,{chartX:N,chartY:q}=n.originalEvent;(V==null?void 0:V.length)===2&&(N=(V[0].chartX+V[1].chartX)/2,q=(V[0].chartY+V[1].chartY)/2),H!==l&&(l=H,e=this.projection.forward(this.center),o=(this.projection.options.rotation||[0,0]).slice());let F=G.def&&G.def.bounds,R=F&&c(F,this.playingField)||-1/0;if(G.options.name==="Orthographic"&&2>((V==null?void 0:V.length)||0)&&(this.minZoom||1/0)<1.3*R){let W=440/(this.getScale()*Math.min(d.plotWidth,d.plotHeight));if(o){let K=(U-N)*W-o[0],$=D(-o[1]-(Y-q)*W,-80,80),J=this.zoom;this.update({projection:{rotation:[-K,-$]}},!1),this.fitToBounds(void 0,void 0,!1),this.zoom=J,d.redraw(!1)}}else if(j(N)&&j(q)){let W=this.getScale(),K=this.projection.hasCoordinates?1:-1,$=this.projection.inverse([e[0]+(U-N)/W,e[1]-(Y-q)/W*K]);isNaN($[0]+$[1])||this.zoomBy(Z,$,void 0,!1)}n.preventDefault()}};E(d,"pan",x),E(d,"touchpan",x),E(d,"selection",n=>{if(n.resetSelection)this.zoomBy();else{let u=n.x-d.plotLeft,T=n.y-d.plotTop,{y:G,x:V}=this.pixelsToProjectedUnits({x:u,y:T}),{y:U,x:Y}=this.pixelsToProjectedUnits({x:u+n.width,y:T+n.height});this.fitToBounds({x1:V,y1:G,x2:Y,y2:U},void 0,!0,!n.originalEvent.touches&&void 0),/^touch/.test(n.originalEvent.type)||d.showResetZoom(),n.preventDefault()}})}render(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())}update(e,l=!0,o){let d=e.projection,x=d&&v.toString(d)!==v.toString(this.options.projection),n=!1;i(!0,this.userOptions,e),i(!0,this.options,e),"insets"in e&&(this.insets.forEach(u=>u.destroy()),this.insets.length=0,n=!0),(x||"fitToGeometry"in e)&&delete this.fitToGeometryCache,(x||n)&&(this.chart.series.forEach(u=>{let T=u.transformGroups;if(u.clearBounds&&u.clearBounds(),u.isDirty=!0,u.isDirtyData=!0,n&&T)for(;T.length>1;){let G=T.pop();G&&G.destroy()}}),x&&(this.projection=new v(this.options.projection)),n&&this.createInsets(),!e.center&&Object.hasOwnProperty.call(e,"zoom")&&!j(e.zoom)&&this.fitToBounds(void 0,void 0,!1)),e.center||j(e.zoom)?this.setView(this.options.center,e.zoom,!1):"fitToGeometry"in e&&this.fitToBounds(void 0,void 0,!1),l&&this.chart.redraw(o)}zoomBy(e,l,o,d){let x=this.chart,n=this.projection.forward(this.center);if(typeof e=="number"){let u,T,G,V=this.zoom+e;if(o){let[U,Y]=o,Z=this.getScale(),H=U-x.plotLeft-x.plotWidth/2,N=Y-x.plotTop-x.plotHeight/2;T=n[0]+H/Z,G=n[1]+N/Z}if(typeof T=="number"&&typeof G=="number"){let U=1-Math.pow(2,this.zoom)/Math.pow(2,V),Y=n[0]-T,Z=n[1]-G;n[0]-=Y*U,n[1]+=Z*U,u=this.projection.inverse(n)}this.setView(l||u,V,void 0,d)}else this.fitToBounds(void 0,void 0,void 0,d)}}class f extends b{constructor(e,l){if(super(e.chart,l),this.id=l.id,this.mapView=e,this.options=i({center:[0,0]},e.options.insetOptions,l),this.allBounds=[],this.options.geoBounds){let o=e.projection.path(this.options.geoBounds);this.geoBoundsProjectedBox=B(o),this.geoBoundsProjectedPolygon=o.map(d=>[d[1]||0,d[2]||0])}}getField(e=!0){let l=this.hitZone;if(l){let o=e?this.padding:[0,0,0,0],d=l.coordinates[0],x=d.map(U=>U[0]),n=d.map(U=>U[1]),u=Math.min.apply(0,x)+o[3],T=Math.max.apply(0,x)-o[1],G=Math.min.apply(0,n)+o[0],V=Math.max.apply(0,n)-o[2];if(j(u)&&j(G))return{x:u,y:G,width:T-u,height:V-G}}return super.getField.call(this,e)}getHitZone(){let{chart:e,mapView:l,options:o}=this,{coordinates:d}=o.field||{};if(d){let x=d[0];if(o.units==="percent"){let n=o.relativeTo==="mapBoundingBox"&&l.getMapBBox()||i(e.plotBox,{x:0,y:0});x=x.map(u=>[a(`${u[0]}%`,n.width,n.x),a(`${u[1]}%`,n.height,n.y)])}return{type:"Polygon",coordinates:[x]}}}getProjectedBounds(){return b.compositeBounds(this.allBounds)}isInside(e){let{geoBoundsProjectedBox:l,geoBoundsProjectedPolygon:o}=this;return!!(l&&e.x>=l.x1&&e.x<=l.x2&&e.y>=l.y1&&e.y<=l.y2&&o&&k(e,o))}render(){let{chart:e,mapView:l,options:o}=this,d=o.borderPath||o.field;if(d&&l.group){let x=!0;this.border||(this.border=e.renderer.path().addClass("highcharts-mapview-inset-border").add(l.group),x=!1),e.styledMode||this.border.attr({stroke:o.borderColor,"stroke-width":o.borderWidth});let n=this.border.strokeWidth(),u=o.relativeTo==="mapBoundingBox"&&l.getMapBBox()||l.playingField,T=(d.coordinates||[]).reduce((G,V)=>V.reduce((U,Y,Z)=>{let[H,N]=Y;return o.units==="percent"&&(H=e.plotLeft+a(`${H}%`,u.width,u.x),N=e.plotTop+a(`${N}%`,u.height,u.y)),H=g(H,n),N=g(N,n),U.push(Z===0?["M",H,N]:["L",H,N]),U},G),[]);this.border[x?"animate":"attr"]({d:T})}}destroy(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach(e=>e())}setUpEvents(){}}return b}),X(M,"Series/Map/MapSeries.js",[M["Core/Animation/AnimationUtilities.js"],M["Series/ColorMapComposition.js"],M["Series/CenteredUtilities.js"],M["Core/Globals.js"],M["Core/Chart/MapChart.js"],M["Series/Map/MapPoint.js"],M["Series/Map/MapSeriesDefaults.js"],M["Maps/MapView.js"],M["Core/Series/SeriesRegistry.js"],M["Core/Utilities.js"]],function(w,z,O,P,v,I,L,C,B,k){let{animObject:E,stop:D}=w,{noop:g}=P,{splitPath:s}=v,{column:m,scatter:j}=B.seriesTypes,{extend:A,find:y,fireEvent:i,getNestedProperty:h,isArray:p,defined:a,isNumber:t,isObject:c,merge:r,objectEach:b,pick:f,splat:S}=k;class e extends j{constructor(){super(...arguments),this.processedData=[]}animate(o){let{chart:d,group:x}=this,n=E(this.options.animation);o?x.attr({translateX:d.plotLeft+d.plotWidth/2,translateY:d.plotTop+d.plotHeight/2,scaleX:.001,scaleY:.001}):x.animate({translateX:d.plotLeft,translateY:d.plotTop,scaleX:1,scaleY:1},n)}clearBounds(){this.points.forEach(o=>{delete o.bounds,delete o.insetIndex,delete o.projectedPath}),delete this.bounds}doFullTranslate(){return!!(this.isDirtyData||this.chart.isResizing||!this.hasRendered)}drawMapDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}drawPoints(){let o=this,{chart:d,group:x,transformGroups:n=[]}=this,{mapView:u,renderer:T}=d;if(u){this.transformGroups=n,n[0]||(n[0]=T.g().add(x));for(let G=0,V=u.insets.length;G<V;++G)n[G+1]||n.push(T.g().add(x));this.doFullTranslate()&&(this.points.forEach(G=>{let{graphic:V}=G;G.group=n[typeof G.insetIndex=="number"?G.insetIndex+1:0],V&&V.parentGroup!==G.group&&V.add(G.group)}),m.prototype.drawPoints.apply(this),this.points.forEach(G=>{let V=G.graphic;if(V){let U=V.animate,Y="";G.name&&(Y+="highcharts-name-"+G.name.replace(/ /g,"-").toLowerCase()),G.properties&&G.properties["hc-key"]&&(Y+=" highcharts-key-"+G.properties["hc-key"].toString().toLowerCase()),Y&&V.addClass(Y),d.styledMode&&V.css(this.pointAttribs(G,G.selected&&"select"||void 0)),V.attr({visibility:!G.visible&&(G.visible||G.isNull)?"hidden":"inherit"}),V.animate=function(Z,H,N){let q=t(Z["stroke-width"])&&!t(V["stroke-width"]),F=t(V["stroke-width"])&&!t(Z["stroke-width"]);if(q||F){let R=f(o.getStrokeWidth(o.options),1)/(d.mapView&&d.mapView.getScale()||1);q&&(V["stroke-width"]=R),F&&(Z["stroke-width"]=R)}return U.call(V,Z,H,F?function(){V.element.removeAttribute("stroke-width"),delete V["stroke-width"],N&&N.apply(this,arguments)}:N)}}})),n.forEach((G,V)=>{let U=(V===0?u:u.insets[V-1]).getSVGTransform(),Y=f(this.getStrokeWidth(this.options),1),Z=U.scaleX,H=U.scaleY>0?1:-1,N=q=>{(o.points||[]).forEach(F=>{let R,W=F.graphic;W&&W["stroke-width"]&&(R=this.getStrokeWidth(F.options))&&W.attr({"stroke-width":R/q})})};if(T.globalAnimation&&d.hasRendered&&u.allowTransformAnimation){let q=Number(G.attr("translateX")),F=Number(G.attr("translateY")),R=Number(G.attr("scaleX")),W=(J,se)=>{let ie=R+(Z-R)*se.pos;G.attr({translateX:q+(U.translateX-q)*se.pos,translateY:F+(U.translateY-F)*se.pos,scaleX:ie,scaleY:ie*H,"stroke-width":Y/ie}),N(ie)},K=r(E(T.globalAnimation)),$=K.step;K.step=function(){$&&$.apply(this,arguments),W.apply(this,arguments)},G.attr({animator:0}).animate({animator:1},K,(function(){typeof T.globalAnimation!="boolean"&&T.globalAnimation.complete&&T.globalAnimation.complete({applyDrilldown:!0}),i(this,"mapZoomComplete")}).bind(this))}else D(G),G.attr(r(U,{"stroke-width":Y/Z})),N(Z)}),this.isDrilling||this.drawMapDataLabels()}}getProjectedBounds(){if(!this.bounds&&this.chart.mapView){let{insets:o,projection:d}=this.chart.mapView,x=[];(this.points||[]).forEach(n=>{if(n.path||n.geometry){if(typeof n.path=="string"?n.path=s(n.path):p(n.path)&&n.path[0]==="M"&&(n.path=this.chart.renderer.pathToSegments(n.path)),!n.bounds){let u=n.getProjectedBounds(d);if(u){n.labelrank=f(n.labelrank,(u.x2-u.x1)*(u.y2-u.y1));let{midX:T,midY:G}=u;if(o&&t(T)&&t(G)){let V=y(o,U=>U.isInside({x:T,y:G}));V&&(delete n.projectedPath,(u=n.getProjectedBounds(V.projection))&&V.allBounds.push(u),n.insetIndex=o.indexOf(V))}n.bounds=u}}n.bounds&&n.insetIndex===void 0&&x.push(n.bounds)}}),this.bounds=C.compositeBounds(x)}return this.bounds}getStrokeWidth(o){let d=this.pointAttrToOptions;return o[d&&d["stroke-width"]||"borderWidth"]}hasData(){return!!this.processedXData.length}pointAttribs(o,d){let{mapView:x,styledMode:n}=o.series.chart,u=n?this.colorAttribs(o):m.prototype.pointAttribs.call(this,o,d),T=this.getStrokeWidth(o.options);if(d){let V=r(this.options.states&&this.options.states[d],o.options.states&&o.options.states[d]||{}),U=this.getStrokeWidth(V);a(U)&&(T=U),u.stroke=V.borderColor??o.color}T&&x&&(T/=x.getScale());let G=this.getStrokeWidth(this.options);return u.dashstyle&&x&&t(G)&&(T=G/x.getScale()),o.visible||(u.fill=this.options.nullColor),a(T)?u["stroke-width"]=T:delete u["stroke-width"],u["stroke-linecap"]=u["stroke-linejoin"]=this.options.linecap,u}updateData(){return!this.processedData&&super.updateData.apply(this,arguments)}setData(o,d=!0,x,n){delete this.bounds,super.setData(o,!1,void 0,n),this.processData(),this.generatePoints(),d&&this.chart.redraw(x)}processData(){let o,d,x,n=this.options,u=n.data,T=this.chart,G=T.options.chart,V=this.joinBy,U=n.keys||this.pointArrayMap,Y=[],Z={},H=this.chart.mapView,N=H&&(c(n.mapData,!0)?H.getGeoMap(n.mapData):H.geoMap),q=T.mapTransforms=G.mapTransforms||N&&N["hc-transform"]||T.mapTransforms;q&&b(q,R=>{R.rotation&&(R.cosAngle=Math.cos(R.rotation),R.sinAngle=Math.sin(R.rotation))}),p(n.mapData)?x=n.mapData:N&&N.type==="FeatureCollection"&&(this.mapTitle=N.title,x=P.geojson(N,this.type,this)),this.processedData=[];let F=this.processedData;if(u){let R;for(let W=0,K=u.length;W<K;++W){if(t(R=u[W]))F[W]={value:R};else if(p(R)){let $=0;F[W]={},!n.keys&&R.length>U.length&&typeof R[0]=="string"&&(F[W]["hc-key"]=R[0],++$);for(let J=0;J<U.length;++J,++$)U[J]&&R[$]!==void 0&&(U[J].indexOf(".")>0?I.prototype.setNestedProperty(F[W],R[$],U[J]):F[W][U[J]]=R[$])}else F[W]=u[W];V&&V[0]==="_i"&&(F[W]._i=W)}}if(x){this.mapData=x,this.mapMap={};for(let R=0;R<x.length;R++)d=(o=x[R]).properties,o._i=R,V[0]&&d&&d[V[0]]&&(o[V[0]]=d[V[0]]),Z[o[V[0]]]=o;if(this.mapMap=Z,V[1]){let R=V[1];F.forEach(W=>{let K=h(R,W);Z[K]&&Y.push(Z[K])})}if(n.allAreas){if(V[1]){let W=V[1];F.forEach(K=>{Y.push(h(W,K))})}let R="|"+Y.map(function(W){return W&&W[V[0]]}).join("|")+"|";x.forEach(W=>{V[0]&&R.indexOf("|"+W[V[0]]+"|")!==-1||F.push(r(W,{value:null}))})}}this.processedXData=Array(F.length)}setOptions(o){let d=super.setOptions(o),x=d.joinBy;return d.joinBy===null&&(x="_i"),(x=this.joinBy=S(x))[1]||(x[1]=x[0]),d}translate(){let o=this.doFullTranslate(),d=this.chart.mapView,x=d&&d.projection;if(this.chart.hasRendered&&(this.isDirtyData||!this.hasRendered)&&(this.processData(),this.generatePoints(),delete this.bounds,!d||d.userOptions.center||t(d.userOptions.zoom)||d.zoom!==d.minZoom?this.getProjectedBounds():d.fitToBounds(void 0,void 0,!1)),d){let n=d.getSVGTransform();this.points.forEach(u=>{let T=t(u.insetIndex)&&d.insets[u.insetIndex].getSVGTransform()||n;T&&u.bounds&&t(u.bounds.midX)&&t(u.bounds.midY)&&(u.plotX=u.bounds.midX*T.scaleX+T.translateX,u.plotY=u.bounds.midY*T.scaleY+T.translateY),o&&(u.shapeType="path",u.shapeArgs={d:I.getProjectedPath(u,x)}),u.hiddenInDataClass||(u.projectedPath&&!u.projectedPath.length?u.setVisible(!1):u.visible||u.setVisible(!0))})}i(this,"afterTranslate")}update(o){var d;o.mapData&&((d=this.chart.mapView)==null||d.recommendMapView(this.chart,[this.chart.options.chart.map,...(this.chart.options.series||[]).map((x,n)=>n===this._i?o.mapData:x.mapData)],!0)),super.update.apply(this,arguments)}}return e.defaultOptions=r(j.defaultOptions,L),A(e.prototype,{type:"map",axisTypes:z.seriesMembers.axisTypes,colorAttribs:z.seriesMembers.colorAttribs,colorKey:z.seriesMembers.colorKey,directTouch:!0,drawDataLabels:g,drawGraph:g,forceDL:!0,getCenter:O.getCenter,getExtremesFromAll:!0,getSymbol:g,isCartesian:!1,parallelArrays:z.seriesMembers.parallelArrays,pointArrayMap:z.seriesMembers.pointArrayMap,pointClass:I,preserveAspectRatio:!0,searchPoint:g,trackerGroups:z.seriesMembers.trackerGroups,useMapGeometry:!0}),z.compose(e),B.registerSeriesType("map",e),e}),X(M,"Series/MapLine/MapLineSeriesDefaults.js",[],function(){return{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"}}),X(M,"Series/MapLine/MapLineSeries.js",[M["Series/MapLine/MapLineSeriesDefaults.js"],M["Series/Map/MapSeries.js"],M["Core/Series/SeriesRegistry.js"],M["Core/Utilities.js"]],function(w,z,O,P){let{extend:v,merge:I}=P;class L extends z{pointAttribs(B,k){let E=super.pointAttribs(B,k);return E.fill=this.options.fillColor,E}}return L.defaultOptions=I(z.defaultOptions,w),v(L.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),O.registerSeriesType("mapline",L),L}),X(M,"Series/MapPoint/MapPointPoint.js",[M["Core/Series/SeriesRegistry.js"],M["Core/Utilities.js"]],function(w,z){let{scatter:O}=w.seriesTypes,{isNumber:P}=z;class v extends O.prototype.pointClass{isValid(){return!!(this.options.geometry||P(this.x)&&P(this.y)||P(this.options.lon)&&P(this.options.lat))}}return v}),X(M,"Series/MapPoint/MapPointSeriesDefaults.js",[],function(){return{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"}}),X(M,"Series/MapPoint/MapPointSeries.js",[M["Core/Globals.js"],M["Series/MapPoint/MapPointPoint.js"],M["Series/MapPoint/MapPointSeriesDefaults.js"],M["Core/Series/SeriesRegistry.js"],M["Core/Renderer/SVG/SVGRenderer.js"],M["Core/Utilities.js"]],function(w,z,O,P,v,I){let{noop:L}=w,{map:C,scatter:B}=P.seriesTypes,{extend:k,fireEvent:E,isNumber:D,merge:g}=I;class s extends B{constructor(){super(...arguments),this.clearBounds=C.prototype.clearBounds}drawDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}projectPoint(j){let A=this.chart.mapView;if(A){let{geometry:y,lon:i,lat:h}=j,p=y&&y.type==="Point"&&y.coordinates;if(D(i)&&D(h)&&(p=[i,h]),p)return A.lonLatToProjectedUnits({lon:p[0],lat:p[1]})}}translate(){let j=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),j){let A=j.getSVGTransform(),{hasCoordinates:y}=j.projection;this.points.forEach(i=>{let h,{x:p,y:a}=i,t=D(i.insetIndex)&&j.insets[i.insetIndex].getSVGTransform()||A,c=this.projectPoint(i.options)||i.properties&&this.projectPoint(i.properties);if(c?(p=c.x,a=c.y):i.bounds&&(p=i.bounds.midX,a=i.bounds.midY,t&&D(p)&&D(a)&&(i.plotX=p*t.scaleX+t.translateX,i.plotY=a*t.scaleY+t.translateY,h=!0)),D(p)&&D(a)){if(!h){let r=j.projectedUnitsToPixels({x:p,y:a});i.plotX=r.x,i.plotY=y?r.y:this.chart.plotHeight-r.y}}else i.y=i.plotX=i.plotY=void 0;i.isInside=this.isPointInside(i),i.zone=this.zones.length?i.getZone():void 0})}E(this,"afterTranslate")}}return s.defaultOptions=g(B.defaultOptions,O),v.prototype.symbols.mapmarker=(m,j,A,y,i)=>{let h,p,a=i&&i.context==="legend";a?(h=m+A/2,p=j+y):i&&typeof i.anchorX=="number"&&typeof i.anchorY=="number"?(h=i.anchorX,p=i.anchorY):(h=m+A/2,p=j+y/2,j-=y);let t=a?y/3:y/2;return[["M",h,p],["C",h,p,h-t,j+1.5*t,h-t,j+t],["A",t,t,1,1,1,h+t,j+t],["C",h+t,j+1.5*t,h,p,h,p],["Z"]]},k(s.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:z,searchPoint:L,useMapGeometry:!0}),P.registerSeriesType("mappoint",s),s}),X(M,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),X(M,"Series/Bubble/BubbleLegendItem.js",[M["Core/Color/Color.js"],M["Core/Templating.js"],M["Core/Globals.js"],M["Core/Utilities.js"]],function(w,z,O,P){let{parse:v}=w,{noop:I}=O,{arrayMax:L,arrayMin:C,isNumber:B,merge:k,pick:E,stableSort:D}=P;return class{constructor(g,s){this.setState=I,this.init(g,s)}init(g,s){this.options=g,this.visible=!0,this.chart=s.chart,this.legend=s}addToLegend(g){g.splice(this.options.legendIndex,0,this)}drawLegendSymbol(g){let s,m=E(g.options.itemDistance,20),j=this.legendItem||{},A=this.options,y=A.ranges,i=A.connectorDistance;if(!y||!y.length||!B(y[0].value)){g.options.bubbleLegend.autoRanges=!0;return}D(y,function(t,c){return c.value-t.value}),this.ranges=y,this.setOptions(),this.render();let h=this.getMaxLabelSize(),p=this.ranges[0].radius,a=2*p;s=(s=i-p+h.width)>0?s:0,this.maxLabel=h,this.movementX=A.labels.align==="left"?s:0,j.labelWidth=a+s+m,j.labelHeight=a+h.height/2}setOptions(){let g=this.ranges,s=this.options,m=this.chart.series[s.seriesIndex],j=this.legend.baseline,A={zIndex:s.zIndex,"stroke-width":s.borderWidth},y={zIndex:s.zIndex,"stroke-width":s.connectorWidth},i={align:this.legend.options.rtl||s.labels.align==="left"?"right":"left",zIndex:s.zIndex},h=m.options.marker.fillOpacity,p=this.chart.styledMode;g.forEach(function(a,t){p||(A.stroke=E(a.borderColor,s.borderColor,m.color),A.fill=E(a.color,s.color,h!==1?v(m.color).setOpacity(h).get("rgba"):m.color),y.stroke=E(a.connectorColor,s.connectorColor,m.color)),g[t].radius=this.getRangeRadius(a.value),g[t]=k(g[t],{center:g[0].radius-g[t].radius+j}),p||k(!0,g[t],{bubbleAttribs:k(A),connectorAttribs:k(y),labelAttribs:i})},this)}getRangeRadius(g){let s=this.options,m=this.options.seriesIndex,j=this.chart.series[m],A=s.ranges[0].value,y=s.ranges[s.ranges.length-1].value,i=s.minSize,h=s.maxSize;return j.getRadius.call(this,y,A,i,h,g)}render(){let g=this.legendItem||{},s=this.chart.renderer,m=this.options.zThreshold;for(let j of(this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),g.symbol=s.g("bubble-legend"),g.label=s.g("bubble-legend-item").css(this.legend.itemStyle||{}),g.symbol.translateX=0,g.symbol.translateY=0,g.symbol.add(g.label),g.label.add(g.group),this.ranges))j.value>=m&&this.renderRange(j);this.hideOverlappingLabels()}renderRange(g){let s=this.ranges[0],m=this.legend,j=this.options,A=j.labels,y=this.chart,i=y.series[j.seriesIndex],h=y.renderer,p=this.symbols,a=p.labels,t=g.center,c=Math.abs(g.radius),r=j.connectorDistance||0,b=A.align,f=m.options.rtl,S=j.borderWidth,e=j.connectorWidth,l=s.radius||0,o=t-c-S/2+e/2,d=(o%1?1:.5)-(e%2?0:.5),x=h.styledMode,n=f||b==="left"?-r:r;b==="center"&&(n=0,j.connectorDistance=0,g.labelAttribs.align="center"),p.bubbleItems.push(h.circle(l,t+d,c).attr(x?{}:g.bubbleAttribs).addClass((x?"highcharts-color-"+i.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(j.className||"")).add(this.legendItem.symbol)),p.connectors.push(h.path(h.crispLine([["M",l,o],["L",l+n,o]],j.connectorWidth)).attr(x?{}:g.connectorAttribs).addClass((x?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(j.connectorClassName||"")).add(this.legendItem.symbol));let u=h.text(this.formatLabel(g)).attr(x?{}:g.labelAttribs).css(x?{}:A.style).addClass("highcharts-bubble-legend-labels "+(j.labels.className||"")).add(this.legendItem.symbol),T={x:l+n+j.labels.x,y:o+j.labels.y+.4*u.getBBox().height};u.attr(T),a.push(u),u.placed=!0,u.alignAttr=T}getMaxLabelSize(){let g,s;return this.symbols.labels.forEach(function(m){s=m.getBBox(!0),g=g?s.width>g.width?s:g:s}),g||{}}formatLabel(g){let s=this.options,m=s.labels.formatter,j=s.labels.format,{numberFormatter:A}=this.chart;return j?z.format(j,g):m?m.call(g):A(g.value,1)}hideOverlappingLabels(){let g=this.chart,s=this.options.labels.allowOverlap,m=this.symbols;!s&&m&&(g.hideOverlappingLabels(m.labels),m.labels.forEach(function(j,A){j.newOpacity?j.newOpacity!==j.oldOpacity&&m.connectors[A].show():m.connectors[A].hide()}))}getRanges(){let g=this.legend.bubbleLegend,s=g.chart.series,m=g.options.ranges,j,A,y=Number.MAX_VALUE,i=-Number.MAX_VALUE;return s.forEach(function(h){h.isBubble&&!h.ignoreSeries&&(A=h.zData.filter(B)).length&&(y=E(h.options.zMin,Math.min(y,Math.max(C(A),h.options.displayNegative===!1?h.options.zThreshold:-Number.MAX_VALUE))),i=E(h.options.zMax,Math.max(i,L(A))))}),j=y===i?[{value:i}]:[{value:y},{value:(y+i)/2},{value:i,autoRanges:!0}],m.length&&m[0].radius&&j.reverse(),j.forEach(function(h,p){m&&m[p]&&(j[p]=k(m[p],h))}),j}predictBubbleSizes(){let g=this.chart,s=g.legend.options,m=s.floating,j=s.layout==="horizontal",A=j?g.legend.lastLineHeight:0,y=g.plotSizeX,i=g.plotSizeY,h=g.series[this.options.seriesIndex],p=h.getPxExtremes(),a=Math.ceil(p.minPxSize),t=Math.ceil(p.maxPxSize),c,r=h.options.maxSize;return m||!/%$/.test(r)?c=t:(c=(Math.min(i,y)+A)*(r=parseFloat(r))/100/(r/100+1),(j&&i-c>=y||!j&&y-c>=i)&&(c=t)),[a,Math.ceil(c)]}updateRanges(g,s){let m=this.legend.options.bubbleLegend;m.minSize=g,m.maxSize=s,m.ranges=this.getRanges()}correctSizes(){let g=this.legend,s=this.chart.series[this.options.seriesIndex].getPxExtremes();Math.abs(Math.ceil(s.maxPxSize)-this.options.maxSize)>1&&(this.updateRanges(this.options.minSize,s.maxPxSize),g.render())}}}),X(M,"Series/Bubble/BubbleLegendComposition.js",[M["Series/Bubble/BubbleLegendDefaults.js"],M["Series/Bubble/BubbleLegendItem.js"],M["Core/Defaults.js"],M["Core/Globals.js"],M["Core/Utilities.js"]],function(w,z,O,P,v){let{setOptions:I}=O,{composed:L}=P,{addEvent:C,objectEach:B,pushUnique:k,wrap:E}=v;function D(y,i,h){let p,a,t,c=this.legend,r=g(this)>=0;c&&c.options.enabled&&c.bubbleLegend&&c.options.bubbleLegend.autoRanges&&r?(p=c.bubbleLegend.options,a=c.bubbleLegend.predictBubbleSizes(),c.bubbleLegend.updateRanges(a[0],a[1]),p.placed||(c.group.placed=!1,c.allItems.forEach(b=>{(t=b.legendItem||{}).group&&(t.group.translateY=void 0)})),c.render(),p.placed||(this.getMargins(),this.axes.forEach(function(b){b.visible&&b.render(),p.placed||(b.setScale(),b.updateNames(),B(b.ticks,function(f){f.isNew=!0,f.isNewLabel=!0}))}),this.getMargins()),p.placed=!0,y.call(this,i,h),c.bubbleLegend.correctSizes(),A(c,s(c))):(y.call(this,i,h),c&&c.options.enabled&&c.bubbleLegend&&(c.render(),A(c,s(c))))}function g(y){let i=y.series,h=0;for(;h<i.length;){if(i[h]&&i[h].isBubble&&i[h].visible&&i[h].zData.length)return h;h++}return-1}function s(y){let i=y.allItems,h=[],p=i.length,a,t,c,r=0,b=0;for(r=0;r<p;r++)if(t=i[r].legendItem||{},c=(i[r+1]||{}).legendItem||{},t.labelHeight&&(i[r].itemHeight=t.labelHeight),i[r]===i[p-1]||t.y!==c.y){for(h.push({height:0}),a=h[h.length-1];b<=r;b++)i[b].itemHeight>a.height&&(a.height=i[b].itemHeight);a.step=r}return h}function m(y){let i=this.bubbleLegend,h=this.options,p=h.bubbleLegend,a=g(this.chart);i&&i.ranges&&i.ranges.length&&(p.ranges.length&&(p.autoRanges=!!p.ranges[0].autoRanges),this.destroyItem(i)),a>=0&&h.enabled&&p.enabled&&(p.seriesIndex=a,this.bubbleLegend=new z(p,this),this.bubbleLegend.addToLegend(y.allItems))}function j(y){let i;if(y.defaultPrevented)return!1;let h=this.chart,p=this.visible,a=this.chart.legend;a&&a.bubbleLegend&&(this.visible=!p,this.ignoreSeries=p,i=g(h)>=0,a.bubbleLegend.visible!==i&&(a.update({bubbleLegend:{enabled:i}}),a.bubbleLegend.visible=i),this.visible=p)}function A(y,i){let h=y.allItems,p=y.options.rtl,a,t,c,r,b=0;h.forEach((f,S)=>{(r=f.legendItem||{}).group&&(a=r.group.translateX||0,t=r.y||0,((c=f.movementX)||p&&f.ranges)&&(c=p?a-f.options.maxSize/2:a+c,r.group.attr({translateX:c})),S>i[b].step&&b++,r.group.attr({translateY:Math.round(t+i[b].height/2)}),r.y=t+i[b].height/2)})}return{compose:function(y,i,h){k(L,"Series.BubbleLegend")&&(I({legend:{bubbleLegend:w}}),E(y.prototype,"drawChartBox",D),C(i,"afterGetAllItems",m),C(h,"legendItemClick",j))}}}),X(M,"Series/Bubble/BubblePoint.js",[M["Core/Series/Point.js"],M["Core/Series/SeriesRegistry.js"],M["Core/Utilities.js"]],function(w,z,O){let{seriesTypes:{scatter:{prototype:{pointClass:P}}}}=z,{extend:v}=O;class I extends P{haloPath(C){return w.prototype.haloPath.call(this,C===0?0:(this.marker&&this.marker.radius||0)+C)}}return v(I.prototype,{ttBelow:!1}),I}),X(M,"Series/Bubble/BubbleSeries.js",[M["Series/Bubble/BubbleLegendComposition.js"],M["Series/Bubble/BubblePoint.js"],M["Core/Color/Color.js"],M["Core/Globals.js"],M["Core/Series/SeriesRegistry.js"],M["Core/Utilities.js"]],function(w,z,O,P,v,I){let{parse:L}=O,{composed:C,noop:B}=P,{series:k,seriesTypes:{column:{prototype:E},scatter:D}}=v,{addEvent:g,arrayMax:s,arrayMin:m,clamp:j,extend:A,isNumber:y,merge:i,pick:h,pushUnique:p}=I;function a(){let c=this.len,{coll:r,isXAxis:b,min:f}=this,S=b?"xData":"yData",e=(this.max||0)-(f||0),l=0,o=c,d=c/e,x;(r==="xAxis"||r==="yAxis")&&(this.series.forEach(n=>{if(n.bubblePadding&&n.reserveSpace()){this.allowZoomOutside=!0,x=!0;let u=n[S];if(b&&((n.onPoint||n).getRadii(0,0,n),n.onPoint&&(n.radii=n.onPoint.radii)),e>0){let T=u.length;for(;T--;)if(y(u[T])&&this.dataMin<=u[T]&&u[T]<=this.max){let G=n.radii&&n.radii[T]||0;l=Math.min((u[T]-f)*d-G,l),o=Math.max((u[T]-f)*d+G,o)}}}}),x&&e>0&&!this.logarithmic&&(o-=c,d*=(c+Math.max(0,l)-Math.min(o,c))/c,[["min","userMin",l],["max","userMax",o]].forEach(n=>{h(this.options[n[0]],this[n[1]])===void 0&&(this[n[0]]+=n[2]/d)})))}class t extends D{static compose(r,b,f,S){w.compose(b,f,S),p(C,"Series.Bubble")&&g(r,"foundExtremes",a)}animate(r){!r&&this.points.length<this.options.animationLimit&&this.points.forEach(function(b){let{graphic:f,plotX:S=0,plotY:e=0}=b;f&&f.width&&(this.hasRendered||f.attr({x:S,y:e,width:1,height:1}),f.animate(this.markerAttribs(b),this.options.animation))},this)}getRadii(){let r=this.zData,b=this.yData,f=[],S,e,l,o=this.chart.bubbleZExtremes,{minPxSize:d,maxPxSize:x}=this.getPxExtremes();if(!o){let n,u=Number.MAX_VALUE,T=-Number.MAX_VALUE;this.chart.series.forEach(G=>{if(G.bubblePadding&&G.reserveSpace()){let V=(G.onPoint||G).getZExtremes();V&&(u=Math.min(h(u,V.zMin),V.zMin),T=Math.max(h(T,V.zMax),V.zMax),n=!0)}}),n?(o={zMin:u,zMax:T},this.chart.bubbleZExtremes=o):o={zMin:0,zMax:0}}for(e=0,S=r.length;e<S;e++)l=r[e],f.push(this.getRadius(o.zMin,o.zMax,d,x,l,b&&b[e]));this.radii=f}getRadius(r,b,f,S,e,l){let o=this.options,d=o.sizeBy!=="width",x=o.zThreshold,n=b-r,u=.5;if(l===null||e===null)return null;if(y(e)){if(o.sizeByAbsoluteValue&&(e=Math.abs(e-x),b=n=Math.max(b-x,Math.abs(r-x)),r=0),e<r)return f/2-1;n>0&&(u=(e-r)/n)}return d&&u>=0&&(u=Math.sqrt(u)),Math.ceil(f+u*(S-f))/2}hasData(){return!!this.processedXData.length}markerAttribs(r,b){let f=super.markerAttribs(r,b),{height:S=0,width:e=0}=f;return this.chart.inverted?A(f,{x:(r.plotX||0)-e/2,y:(r.plotY||0)-S/2}):f}pointAttribs(r,b){let f=this.options.marker.fillOpacity,S=k.prototype.pointAttribs.call(this,r,b);return f!==1&&(S.fill=L(S.fill).setOpacity(f).get("rgba")),S}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){let{data:r,options:b,radii:f}=this,{minPxSize:S}=this.getPxExtremes(),e=r.length;for(;e--;){let l=r[e],o=f?f[e]:0;this.zoneAxis==="z"&&(l.negative=(l.z||0)<(b.zThreshold||0)),y(o)&&o>=S/2?(l.marker=A(l.marker,{radius:o,width:2*o,height:2*o}),l.dlBox={x:l.plotX-o,y:l.plotY-o,width:2*o,height:2*o}):(l.shapeArgs=l.plotY=l.dlBox=void 0,l.isInside=!1)}}getPxExtremes(){let r=Math.min(this.chart.plotWidth,this.chart.plotHeight),b=e=>{let l;return typeof e=="string"&&(l=/%$/.test(e),e=parseInt(e,10)),l?r*e/100:e},f=b(h(this.options.minSize,8)),S=Math.max(b(h(this.options.maxSize,"20%")),f);return{minPxSize:f,maxPxSize:S}}getZExtremes(){let r=this.options,b=(this.zData||[]).filter(y);if(b.length){let f=h(r.zMin,j(m(b),r.displayNegative===!1?r.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),S=h(r.zMax,s(b));if(y(f)&&y(S))return{zMin:f,zMax:S}}}}return t.defaultOptions=i(D.defaultOptions,{dataLabels:{formatter:function(){let{numberFormatter:c}=this.series.chart,{z:r}=this.point;return y(r)?c(r,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),A(t.prototype,{alignDataLabel:E.alignDataLabel,applyZones:B,bubblePadding:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:z,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),g(t,"updatedData",c=>{delete c.target.chart.bubbleZExtremes}),g(t,"remove",c=>{delete c.target.chart.bubbleZExtremes}),v.registerSeriesType("bubble",t),t}),X(M,"Series/MapBubble/MapBubblePoint.js",[M["Series/Bubble/BubblePoint.js"],M["Core/Series/SeriesRegistry.js"],M["Core/Utilities.js"]],function(w,z,O){let{seriesTypes:{map:{prototype:{pointClass:{prototype:P}}}}}=z,{extend:v}=O;class I extends w{isValid(){return typeof this.z=="number"}}return v(I.prototype,{applyOptions:P.applyOptions,getProjectedBounds:P.getProjectedBounds}),I}),X(M,"Series/MapBubble/MapBubbleSeries.js",[M["Series/Bubble/BubbleSeries.js"],M["Series/MapBubble/MapBubblePoint.js"],M["Core/Series/SeriesRegistry.js"],M["Core/Utilities.js"]],function(w,z,O,P){let{seriesTypes:{map:{prototype:v},mappoint:{prototype:I}}}=O,{extend:L,merge:C}=P;class B extends w{constructor(){super(...arguments),this.clearBounds=v.clearBounds}searchPoint(E,D){return this.searchKDTree({plotX:E.chartX-this.chart.plotLeft,plotY:E.chartY-this.chart.plotTop},D,E)}translate(){I.translate.call(this),this.getRadii(),this.translateBubble()}updateParallelArrays(E,D,g){super.updateParallelArrays.call(this,E,D,g);let s=this.processedXData,m=this.xData;s&&m&&(s.length=m.length)}}return B.defaultOptions=C(w.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),L(B.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:v.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:z,processData:v.processData,projectPoint:I.projectPoint,kdAxisArray:["plotX","plotY"],setData:v.setData,setOptions:v.setOptions,updateData:v.updateData,useMapGeometry:!0,xyFromShape:!0}),O.registerSeriesType("mapbubble",B),B}),X(M,"Series/Heatmap/HeatmapPoint.js",[M["Core/Series/SeriesRegistry.js"],M["Core/Utilities.js"]],function(w,z){let{scatter:{prototype:{pointClass:O}}}=w.seriesTypes,{clamp:P,defined:v,extend:I,pick:L}=z;class C extends O{applyOptions(k,E){return(this.isNull||this.value===null)&&delete this.color,super.applyOptions(k,E),this.formatPrefix=this.isNull||this.value===null?"null":"point",this}getCellAttributes(){let k=this.series,E=k.options,D=(E.colsize||1)/2,g=(E.rowsize||1)/2,s=k.xAxis,m=k.yAxis,j=this.options.marker||k.options.marker,A=k.pointPlacementToXValue(),y=L(this.pointPadding,E.pointPadding,0),i={x1:P(Math.round(s.len-s.translate(this.x-D,!1,!0,!1,!0,-A)),-s.len,2*s.len),x2:P(Math.round(s.len-s.translate(this.x+D,!1,!0,!1,!0,-A)),-s.len,2*s.len),y1:P(Math.round(m.translate(this.y-g,!1,!0,!1,!0)),-m.len,2*m.len),y2:P(Math.round(m.translate(this.y+g,!1,!0,!1,!0)),-m.len,2*m.len)};for(let h of[["width","x"],["height","y"]]){let p=h[0],a=h[1],t=a+"1",c=a+"2",r=Math.abs(i[t]-i[c]),b=j&&j.lineWidth||0,f=Math.abs(i[t]+i[c])/2,S=j&&j[p];if(v(S)&&S<r){let e=S/2+b/2;i[t]=f-e,i[c]=f+e}y&&((a==="x"&&s.reversed||a==="y"&&!m.reversed)&&(t=c,c=a+"1"),i[t]+=y,i[c]-=y)}return i}haloPath(k){if(!k)return[];let{x:E=0,y:D=0,width:g=0,height:s=0}=this.shapeArgs||{};return[["M",E-k,D-k],["L",E-k,D+s+k],["L",E+g+k,D+s+k],["L",E+g+k,D-k],["Z"]]}isValid(){return this.value!==1/0&&this.value!==-1/0}}return I(C.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),C}),X(M,"Series/Heatmap/HeatmapSeriesDefaults.js",[M["Core/Utilities.js"]],function(w){let{isNumber:z}=w;return{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){let{numberFormatter:O}=this.series.chart,{value:P}=this.point;return z(P)?O(P,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"}}),X(M,"Series/InterpolationUtilities.js",[M["Core/Globals.js"],M["Core/Utilities.js"]],function(w,z){let{doc:O}=w,{defined:P,pick:v}=z;return{colorFromPoint:function(I,L){let C=L.series.colorAxis;if(C){let B=C.toColor(I||0,L).split(")")[0].split("(")[1].split(",").map(k=>v(parseFloat(k),parseInt(k,10)));return B[3]=255*v(B[3],1),P(I)&&L.visible||(B[3]=0),B}return[0,0,0,0]},getContext:function(I){let{canvas:L,context:C}=I;return L&&C?(C.clearRect(0,0,L.width,L.height),C):(I.canvas=O.createElement("canvas"),I.context=I.canvas.getContext("2d",{willReadFrequently:!0})||void 0,I.context)}}}),X(M,"Series/Heatmap/HeatmapSeries.js",[M["Core/Color/Color.js"],M["Series/ColorMapComposition.js"],M["Series/Heatmap/HeatmapPoint.js"],M["Series/Heatmap/HeatmapSeriesDefaults.js"],M["Core/Series/SeriesRegistry.js"],M["Core/Renderer/SVG/SVGRenderer.js"],M["Core/Utilities.js"],M["Series/InterpolationUtilities.js"]],function(w,z,O,P,v,I,L,C){let{series:B,seriesTypes:{column:k,scatter:E}}=v,{prototype:{symbols:D}}=I,{addEvent:g,extend:s,fireEvent:m,isNumber:j,merge:A,pick:y}=L,{colorFromPoint:i,getContext:h}=C;class p extends E{constructor(){super(...arguments),this.valueMax=NaN,this.valueMin=NaN,this.isDirtyCanvas=!0}drawPoints(){let t=this,c=t.options,r=c.interpolation,b=c.marker||{};if(r){let{image:f,chart:S,xAxis:e,yAxis:l}=t,{reversed:o=!1,len:d}=e,{reversed:x=!1,len:n}=l,u={width:d,height:n};if(!f||t.isDirtyData||t.isDirtyCanvas){let T=h(t),{canvas:G,options:{colsize:V=1,rowsize:U=1},points:Y,points:{length:Z}}=t,H=S.colorAxis&&S.colorAxis[0];if(G&&T&&H){let{min:N,max:q}=e.getExtremes(),{min:F,max:R}=l.getExtremes(),W=q-N,K=R-F,$=Math.round(W/V/8*8),J=Math.round(K/U/8*8),[se,ie]=[[$,$/W,o,"ceil"],[J,J/K,!x,"floor"]].map(([ee,Q,ne,oe])=>ne?le=>Math[oe](ee-Q*le):le=>Math[oe](Q*le)),re=G.width=$+1,ae=re*(G.height=J+1),ce=(Z-1)/ae,he=new Uint8ClampedArray(4*ae),ue=(ee,Q)=>4*Math.ceil(re*ie(Q-F)+se(ee-N));t.buildKDTree();for(let ee=0;ee<ae;ee++){let Q=Y[Math.ceil(ce*ee)],{x:ne,y:oe}=Q;he.set(i(Q.value,Q),ue(ne,oe))}T.putImageData(new ImageData(he,re),0,0),f?f.attr({...u,href:G.toDataURL("image/png",1)}):(t.directTouch=!1,t.image=S.renderer.image(G.toDataURL("image/png",1)).attr(u).add(t.group))}t.isDirtyCanvas=!1}else(f.width!==d||f.height!==n)&&f.attr(u)}else(b.enabled||t._hasPointMarkers)&&(B.prototype.drawPoints.call(t),t.points.forEach(f=>{f.graphic&&(f.graphic[t.chart.styledMode?"css":"animate"](t.colorAttribs(f)),f.value===null&&f.graphic.addClass("highcharts-null-point"))}))}getExtremes(){let{dataMin:t,dataMax:c}=B.prototype.getExtremes.call(this,this.valueData);return j(t)&&(this.valueMin=t),j(c)&&(this.valueMax=c),B.prototype.getExtremes.call(this)}getValidPoints(t,c){return B.prototype.getValidPoints.call(this,t,c,!0)}hasData(){return!!this.processedXData.length}init(){super.init.apply(this,arguments);let t=this.options;t.pointRange=y(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,D.ellipse=D.circle,t.marker&&j(t.borderRadius)&&(t.marker.r=t.borderRadius)}markerAttribs(t,c){let r=t.shapeArgs||{};if(t.hasImage)return{x:t.plotX,y:t.plotY};if(c&&c!=="normal"){let b=t.options.marker||{},f=this.options.marker||{},S=f.states&&f.states[c]||{},e=b.states&&b.states[c]||{},l=(e.width||S.width||r.width||0)+(e.widthPlus||S.widthPlus||0),o=(e.height||S.height||r.height||0)+(e.heightPlus||S.heightPlus||0);return{x:(r.x||0)+((r.width||0)-l)/2,y:(r.y||0)+((r.height||0)-o)/2,width:l,height:o}}return r}pointAttribs(t,c){let r=B.prototype.pointAttribs.call(this,t,c),b=this.options||{},f=this.chart.options.plotOptions||{},S=f.series||{},e=f.heatmap||{},l=t&&t.options.borderColor||b.borderColor||e.borderColor||S.borderColor,o=t&&t.options.borderWidth||b.borderWidth||e.borderWidth||S.borderWidth||r["stroke-width"];if(r.stroke=t&&t.marker&&t.marker.lineColor||b.marker&&b.marker.lineColor||l||this.color,r["stroke-width"]=o,c&&c!=="normal"){let d=A(b.states&&b.states[c],b.marker&&b.marker.states&&b.marker.states[c],t&&t.options.states&&t.options.states[c]||{});r.fill=d.color||w.parse(r.fill).brighten(d.brightness||0).get(),r.stroke=d.lineColor||r.stroke}return r}translate(){let{borderRadius:t,marker:c}=this.options,r=c&&c.symbol||"rect",b=D[r]?r:"rect",f=["circle","square"].indexOf(b)!==-1;for(let S of(this.generatePoints(),this.points)){let e=S.getCellAttributes(),l=Math.min(e.x1,e.x2),o=Math.min(e.y1,e.y2),d=Math.max(Math.abs(e.x2-e.x1),0),x=Math.max(Math.abs(e.y2-e.y1),0);if(S.hasImage=(S.marker&&S.marker.symbol||r||"").indexOf("url")===0,f){let n=Math.abs(d-x);l=Math.min(e.x1,e.x2)+(d<x?0:n/2),o=Math.min(e.y1,e.y2)+(d<x?n/2:0),d=x=Math.min(d,x)}S.hasImage&&(S.marker={width:d,height:x}),S.plotX=S.clientX=(e.x1+e.x2)/2,S.plotY=(e.y1+e.y2)/2,S.shapeType="path",S.shapeArgs=A(!0,{x:l,y:o,width:d,height:x},{d:D[b](l,o,d,x,{r:j(t)?t:0})})}m(this,"afterTranslate")}}return p.defaultOptions=A(E.defaultOptions,P),g(p,"afterDataClassLegendClick",function(){this.isDirtyCanvas=!0,this.drawPoints()}),s(p.prototype,{axisTypes:z.seriesMembers.axisTypes,colorKey:z.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:z.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:O,specialGroup:"group",trackerGroups:z.seriesMembers.trackerGroups,alignDataLabel:k.prototype.alignDataLabel,colorAttribs:z.seriesMembers.colorAttribs,getSymbol:B.prototype.getSymbol}),z.compose(p),v.registerSeriesType("heatmap",p),p}),X(M,"masters/modules/map.src.js",[M["Core/Globals.js"],M["Maps/MapNavigation.js"],M["Series/ColorMapComposition.js"],M["Series/MapBubble/MapBubbleSeries.js"],M["Maps/GeoJSONComposition.js"],M["Core/Chart/MapChart.js"],M["Maps/MapView.js"],M["Maps/Projection.js"]],function(w,z,O,P,v,I,L,C){return w.ColorMapComposition=O,w.MapChart=w.MapChart||I,w.MapNavigation=w.MapNavigation||z,w.MapView=w.MapView||L,w.Projection=w.Projection||C,w.mapChart=w.Map=w.MapChart.mapChart,w.maps=w.MapChart.maps,w.geojson=v.geojson,w.topo2geo=v.topo2geo,v.compose(w.Chart),P.compose(w.Axis,w.Chart,w.Legend,w.Series),z.compose(I,w.Pointer,w.SVGRenderer),L.compose(I),w})})})(pe);var de=pe.exports;const fe=me(de),ye=ge({__proto__:null,default:fe},[de]);export{ye as m};
