import{b7 as F}from"./DPHdV5Tz.js";function j(T,Y){for(var g=0;g<Y.length;g++){const X=Y[g];if(typeof X!="string"&&!Array.isArray(X)){for(const e in X)if(e!=="default"&&!(e in T)){const i=Object.getOwnPropertyDescriptor(X,e);i&&Object.defineProperty(T,e,i.get?i:{enumerable:!0,get:()=>X[e]})}}}return Object.freeze(Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}))}var C={exports:{}};(function(T){(function(Y){T.exports?(Y.default=Y,T.exports=Y):Y(typeof Highcharts<"u"?Highcharts:void 0)})(function(Y){var g=Y?Y._modules:{};function X(e,i,s,n){e.hasOwnProperty(i)||(e[i]=n.apply(null,s),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:i,module:e[i]}})))}X(g,"Series/DragNodesComposition.js",[g["Core/Globals.js"],g["Core/Utilities.js"]],function(e,i){let{composed:s}=e,{addEvent:n,pushUnique:f}=i;function d(){let p,v,L,N=this;N.container&&(p=n(N.container,"mousedown",S=>{let l=N.hoverPoint;l&&l.series&&l.series.hasDraggableNodes&&l.series.options.draggable&&(l.series.onMouseDown(l,S),v=n(N.container,"mousemove",c=>l&&l.series&&l.series.onMouseMove(l,c)),L=n(N.container.ownerDocument,"mouseup",c=>(v(),L(),l&&l.series&&l.series.onMouseUp(l,c))))})),n(N,"destroy",function(){p()})}return{compose:function(p){f(s,"DragNodes")&&n(p,"load",d)},onMouseDown:function(p,v){var N;let L=((N=this.chart.pointer)==null?void 0:N.normalize(v))||v;p.fixedPosition={chartX:L.chartX,chartY:L.chartY,plotX:p.plotX,plotY:p.plotY},p.inDragMode=!0},onMouseMove:function(p,v){var L;if(p.fixedPosition&&p.inDragMode){let N,S,l=this.chart,c=((L=l.pointer)==null?void 0:L.normalize(v))||v,x=p.fixedPosition.chartX-c.chartX,t=p.fixedPosition.chartY-c.chartY,o=l.graphLayoutsLookup;(Math.abs(x)>5||Math.abs(t)>5)&&(N=p.fixedPosition.plotX-x,S=p.fixedPosition.plotY-t,l.isInsidePlot(N,S)&&(p.plotX=N,p.plotY=S,p.hasDragged=!0,this.redrawHalo(p),o.forEach(r=>{r.restartSimulation()})))}},onMouseUp:function(p){p.fixedPosition&&(p.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),p.inDragMode=p.hasDragged=!1,this.options.fixedDraggable||delete p.fixedPosition)},redrawHalo:function(p){p&&this.halo&&this.halo.attr({d:p.haloPath(this.options.states.hover.halo.size)})}}}),X(g,"Series/GraphLayoutComposition.js",[g["Core/Animation/AnimationUtilities.js"],g["Core/Globals.js"],g["Core/Utilities.js"]],function(e,i,s){let{setAnimation:n}=e,{composed:f}=i,{addEvent:d,pushUnique:p}=s;function v(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(l=>{l.updateSimulation()}),this.redraw())}function L(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(l=>{l.updateSimulation(!1)}),this.redraw())}function N(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(l=>{l.stop()})}function S(){let l,c=!1,x=t=>{t.maxIterations--&&isFinite(t.temperature)&&!t.isStable()&&!t.enableSimulation&&(t.beforeStep&&t.beforeStep(),t.step(),l=!1,c=!0)};if(this.graphLayoutsLookup){for(n(!1,this),this.graphLayoutsLookup.forEach(t=>t.start());!l;)l=!0,this.graphLayoutsLookup.forEach(x);c&&this.series.forEach(t=>{t&&t.layout&&t.render()})}}return{compose:function(l){p(f,"GraphLayout")&&(d(l,"afterPrint",v),d(l,"beforePrint",L),d(l,"predraw",N),d(l,"render",S))},integrations:{},layouts:{}}}),X(g,"Series/NodesComposition.js",[g["Core/Series/SeriesRegistry.js"],g["Core/Utilities.js"]],function(e,i){var s;let{series:{prototype:n,prototype:{pointClass:{prototype:f}}}}=e,{defined:d,extend:p,find:v,merge:L,pick:N}=i;return function(S){function l(){return this.data=[].concat(this.points||[],this.nodes),n.destroy.apply(this,arguments)}function c(){this.nodes&&(this.nodes.forEach(o=>{o.destroy()}),this.nodes.length=0),n.setData.apply(this,arguments)}function x(o){let r=arguments,a=this.isNode?this.linksTo.concat(this.linksFrom):[this.fromNode,this.toNode];o!=="select"&&a.forEach(m=>{m&&m.series&&(f.setState.apply(m,r),!m.isNode&&(m.fromNode.graphic&&f.setState.apply(m.fromNode,r),m.toNode&&m.toNode.graphic&&f.setState.apply(m.toNode,r)))}),f.setState.apply(this,r)}function t(o,r,a,m){let k=this.series.options.nodes,y=this.series.options.data,M=y&&y.length||0,w=y&&y[this.index];if(f.update.call(this,o,!this.isNode&&r,a,m),this.isNode){let h=(k||[]).reduce((b,P,D)=>this.id===P.id?D:b,-1),u=L(k&&k[h]||{},y&&y[this.index]||{});y&&(w?y[this.index]=w:y.length=M),k?h>=0?k[h]=u:k.push(u):this.series.options.nodes=[u],N(r,!0)&&this.series.chart.redraw(a)}}S.compose=function(o,r){let a=o.prototype,m=r.prototype;return a.setNodeState=x,a.setState=x,a.update=t,m.destroy=l,m.setData=c,r},S.createNode=function(o){let r=this.pointClass,a=(y,M)=>v(y,w=>w.id===M),m=a(this.nodes,o),k;if(!m){k=this.options.nodes&&a(this.options.nodes,o);let y=new r(this,p({className:"highcharts-node",isNode:!0,id:o,y:1},k));y.linksTo=[],y.linksFrom=[],y.getSum=function(){let M=0,w=0;return y.linksTo.forEach(h=>{M+=h.weight||0}),y.linksFrom.forEach(h=>{w+=h.weight||0}),Math.max(M,w)},y.offset=function(M,w){let h=0;for(let u=0;u<y[w].length;u++){if(y[w][u]===M)return h;h+=y[w][u].weight}},y.hasShape=function(){let M=0;return y.linksTo.forEach(w=>{w.outgoing&&M++}),!y.linksTo.length||M!==y.linksTo.length},y.index=this.nodes.push(y)-1,m=y}return m.formatPrefix="node",m.name=m.name||m.options.id||"",m.mass=N(m.options.mass,m.options.marker&&m.options.marker.radius,this.options.marker&&this.options.marker.radius,4),m},S.destroy=l,S.generatePoints=function(){let o=this.chart,r={};n.generatePoints.call(this),this.nodes||(this.nodes=[]),this.colorCounter=0,this.nodes.forEach(a=>{a.linksFrom.length=0,a.linksTo.length=0,a.level=a.options.level}),this.points.forEach(a=>{d(a.from)&&(r[a.from]||(r[a.from]=this.createNode(a.from)),r[a.from].linksFrom.push(a),a.fromNode=r[a.from],o.styledMode?a.colorIndex=N(a.options.colorIndex,r[a.from].colorIndex):a.color=a.options.color||r[a.from].color),d(a.to)&&(r[a.to]||(r[a.to]=this.createNode(a.to)),r[a.to].linksTo.push(a),a.toNode=r[a.to]),a.name=a.name||a.id},this),this.nodeLookup=r},S.setNodeState=x,S.updateNode=t}(s||(s={})),s}),X(g,"Series/Networkgraph/NetworkgraphPoint.js",[g["Series/NodesComposition.js"],g["Core/Series/SeriesRegistry.js"],g["Core/Utilities.js"]],function(e,i,s){let{series:{prototype:n,prototype:{pointClass:f}}}=i,{addEvent:d,css:p,defined:v,extend:L,pick:N}=s;class S extends f{destroy(){return this.isNode&&this.linksFrom.concat(this.linksTo).forEach(function(c){c.destroyElements&&c.destroyElements()}),this.series.layout.removeElementFromCollection(this,this.series.layout[this.isNode?"nodes":"links"]),f.prototype.destroy.apply(this,arguments)}getDegree(){let c=this.isNode?this.linksFrom.length+this.linksTo.length:0;return c===0?1:c}getLinkAttributes(){let c=this.series.options.link,x=this.options;return{"stroke-width":N(x.width,c.width),stroke:x.color||c.color,dashstyle:x.dashStyle||c.dashStyle,opacity:N(x.opacity,c.opacity,1)}}getLinkPath(){let c=this.fromNode,x=this.toNode;return c.plotX>x.plotX&&(c=this.toNode,x=this.fromNode),[["M",c.plotX||0,c.plotY||0],["L",x.plotX||0,x.plotY||0]]}getMass(){let c=this.fromNode.mass,x=this.toNode.mass,t=c+x;return{fromNode:1-c/t,toNode:1-x/t}}constructor(c,x,t){super(c,x,t),this.series.options.draggable&&!this.series.chart.styledMode&&(d(this,"mouseOver",function(){p(this.series.chart.container,{cursor:"move"})}),d(this,"mouseOut",function(){p(this.series.chart.container,{cursor:"default"})}))}isValid(){return!this.isNode||v(this.id)}redrawLink(){let c,x=this.getLinkPath();if(this.graphic){this.shapeArgs={d:x},this.series.chart.styledMode||(c=this.series.pointAttribs(this),this.graphic.attr(c),(this.dataLabels||[]).forEach(function(r){r&&r.attr({opacity:c.opacity})})),this.graphic.animate(this.shapeArgs);let t=x[0],o=x[1];t[0]==="M"&&o[0]==="L"&&(this.plotX=(t[1]+o[1])/2,this.plotY=(t[2]+o[2])/2)}}remove(c,x){let t=this.series,o=t.options.nodes||[],r,a=o.length;if(this.isNode){for(t.points=[],[].concat(this.linksFrom).concat(this.linksTo).forEach(function(m){(r=m.fromNode.linksFrom.indexOf(m))>-1&&m.fromNode.linksFrom.splice(r,1),(r=m.toNode.linksTo.indexOf(m))>-1&&m.toNode.linksTo.splice(r,1),n.removePoint.call(t,t.data.indexOf(m),!1,!1)}),t.points=t.data.slice(),t.nodes.splice(t.nodes.indexOf(this),1);a--;)if(o[a].id===this.options.id){t.options.nodes.splice(a,1);break}this&&this.destroy(),t.isDirty=!0,t.isDirtyData=!0,c&&t.chart.redraw(c)}else t.removePoint(t.data.indexOf(this),c,x)}renderLink(){let c;this.graphic||(this.graphic=this.series.chart.renderer.path(this.getLinkPath()).addClass(this.getClassName(),!0).add(this.series.group),this.series.chart.styledMode||(c=this.series.pointAttribs(this),this.graphic.attr(c),(this.dataLabels||[]).forEach(function(x){x&&x.attr({opacity:c.opacity})})))}}return L(S.prototype,{setState:e.setNodeState}),S}),X(g,"Series/Networkgraph/NetworkgraphSeriesDefaults.js",[],function(){return{stickyTracking:!1,inactiveOtherPoints:!0,marker:{enabled:!0,states:{inactive:{opacity:.3,animation:{duration:50}}}},states:{inactive:{linkOpacity:.3,animation:{duration:50}}},dataLabels:{formatter:function(){return this.key},linkFormatter:function(){return this.point.fromNode.name+"<br>"+this.point.toNode.name},linkTextPath:{enabled:!0},textPath:{enabled:!1},style:{transition:"opacity 2000ms"},defer:!0,animation:{defer:1e3}},link:{color:"rgba(100, 100, 100, 0.5)",width:1},draggable:!0,layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:1,enableSimulation:!1,theta:.5,maxSpeed:10,approximation:"none",type:"reingold-fruchterman",integration:"euler",maxIterations:1e3,gravitationalConstant:.0625,friction:-.981},showInLegend:!1}}),X(g,"Series/Networkgraph/EulerIntegration.js",[],function(){return{attractive:function(e,i,s,n){let f=e.getMass(),d=s.x/n*i,p=s.y/n*i;e.fromNode.fixedPosition||(e.fromNode.dispX-=d*f.fromNode/e.fromNode.degree,e.fromNode.dispY-=p*f.fromNode/e.fromNode.degree),e.toNode.fixedPosition||(e.toNode.dispX+=d*f.toNode/e.toNode.degree,e.toNode.dispY+=p*f.toNode/e.toNode.degree)},attractiveForceFunction:function(e,i){return e*e/i},barycenter:function(){let e=this.options.gravitationalConstant,i=this.barycenter.xFactor,s=this.barycenter.yFactor;this.nodes.forEach(function(n){if(!n.fixedPosition){let f=n.getDegree(),d=f*(1+f/2);n.dispX+=(i-n.plotX)*e*d/n.degree,n.dispY+=(s-n.plotY)*e*d/n.degree}})},getK:function(e){return Math.pow(e.box.width*e.box.height/e.nodes.length,.3)},integrate:function(e,i){i.dispX+=i.dispX*e.options.friction,i.dispY+=i.dispY*e.options.friction;let s=i.temperature=e.vectorLength({x:i.dispX,y:i.dispY});s!==0&&(i.plotX+=i.dispX/s*Math.min(Math.abs(i.dispX),e.temperature),i.plotY+=i.dispY/s*Math.min(Math.abs(i.dispY),e.temperature))},repulsive:function(e,i,s,n){e.dispX+=s.x/n*i/e.degree,e.dispY+=s.y/n*i/e.degree},repulsiveForceFunction:function(e,i){return i*i/e}}}),X(g,"Series/Networkgraph/QuadTreeNode.js",[],function(){class e{constructor(s){this.body=!1,this.isEmpty=!1,this.isInternal=!1,this.nodes=[],this.box=s,this.boxSize=Math.min(s.width,s.height)}divideBox(){let s=this.box.width/2,n=this.box.height/2;this.nodes[0]=new e({left:this.box.left,top:this.box.top,width:s,height:n}),this.nodes[1]=new e({left:this.box.left+s,top:this.box.top,width:s,height:n}),this.nodes[2]=new e({left:this.box.left+s,top:this.box.top+n,width:s,height:n}),this.nodes[3]=new e({left:this.box.left,top:this.box.top+n,width:s,height:n})}getBoxPosition(s){let n=s.plotX<this.box.left+this.box.width/2,f=s.plotY<this.box.top+this.box.height/2;return n?f?0:3:f?1:2}insert(s,n){let f;this.isInternal?this.nodes[this.getBoxPosition(s)].insert(s,n-1):(this.isEmpty=!1,this.body?n?(this.isInternal=!0,this.divideBox(),this.body!==!0&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,n-1),this.body=!0),this.nodes[this.getBoxPosition(s)].insert(s,n-1)):((f=new e({top:s.plotX||NaN,left:s.plotY||NaN,width:.1,height:.1})).body=s,f.isInternal=!1,this.nodes.push(f)):(this.isInternal=!1,this.body=s))}updateMassAndCenter(){let s=0,n=0,f=0;if(this.isInternal){for(let d of this.nodes)d.isEmpty||(s+=d.mass,n+=d.plotX*d.mass,f+=d.plotY*d.mass);n/=s,f/=s}else this.body&&(s=this.body.mass,n=this.body.plotX,f=this.body.plotY);this.mass=s,this.plotX=n,this.plotY=f}}return e}),X(g,"Series/Networkgraph/QuadTree.js",[g["Series/Networkgraph/QuadTreeNode.js"]],function(e){return class{constructor(i,s,n,f){this.box={left:i,top:s,width:n,height:f},this.maxDepth=25,this.root=new e(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,function(i){i.updateMassAndCenter()})}insertNodes(i){for(let s of i)this.root.insert(s,this.maxDepth)}visitNodeRecursive(i,s,n){let f;if(i||(i=this.root),i===this.root&&s&&(f=s(i)),f!==!1){for(let d of i.nodes){if(d.isInternal){if(s&&(f=s(d)),f===!1)continue;this.visitNodeRecursive(d,s,n)}else d.body&&s&&s(d.body);n&&n(d)}i===this.root&&n&&n(i)}}}}),X(g,"Series/Networkgraph/VerletIntegration.js",[],function(){return{attractive:function(e,i,s){let n=e.getMass(),f=-s.x*i*this.diffTemperature,d=-s.y*i*this.diffTemperature;e.fromNode.fixedPosition||(e.fromNode.plotX-=f*n.fromNode/e.fromNode.degree,e.fromNode.plotY-=d*n.fromNode/e.fromNode.degree),e.toNode.fixedPosition||(e.toNode.plotX+=f*n.toNode/e.toNode.degree,e.toNode.plotY+=d*n.toNode/e.toNode.degree)},attractiveForceFunction:function(e,i){return(i-e)/e},barycenter:function(){let e=this.options.gravitationalConstant||0,i=(this.barycenter.xFactor-(this.box.left+this.box.width)/2)*e,s=(this.barycenter.yFactor-(this.box.top+this.box.height)/2)*e;this.nodes.forEach(function(n){n.fixedPosition||(n.plotX-=i/n.mass/n.degree,n.plotY-=s/n.mass/n.degree)})},getK:function(e){return Math.pow(e.box.width*e.box.height/e.nodes.length,.5)},integrate:function(e,i){let s=-e.options.friction,n=e.options.maxSpeed,f=i.prevX,d=i.prevY,p=(i.plotX+i.dispX-f)*s,v=(i.plotY+i.dispY-d)*s,L=Math.abs,N=L(p)/(p||1),S=L(v)/(v||1),l=N*Math.min(n,Math.abs(p)),c=S*Math.min(n,Math.abs(v));i.prevX=i.plotX+i.dispX,i.prevY=i.plotY+i.dispY,i.plotX+=l,i.plotY+=c,i.temperature=e.vectorLength({x:l,y:c})},repulsive:function(e,i,s){let n=i*this.diffTemperature/e.mass/e.degree;e.fixedPosition||(e.plotX+=s.x*n,e.plotY+=s.y*n)},repulsiveForceFunction:function(e,i){return(i-e)/e*(i>e?1:0)}}}),X(g,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[g["Series/Networkgraph/EulerIntegration.js"],g["Core/Globals.js"],g["Series/GraphLayoutComposition.js"],g["Series/Networkgraph/QuadTree.js"],g["Core/Utilities.js"],g["Series/Networkgraph/VerletIntegration.js"]],function(e,i,s,n,f,d){let{win:p}=i,{clamp:v,defined:L,isFunction:N,fireEvent:S,pick:l}=f;class c{constructor(){this.box={},this.currentStep=0,this.initialRendering=!0,this.links=[],this.nodes=[],this.series=[],this.simulation=!1}static compose(t){s.compose(t),s.integrations.euler=e,s.integrations.verlet=d,s.layouts["reingold-fruchterman"]=c}init(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=s.integrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=l(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=l(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation}updateSimulation(t){this.enableSimulation=l(t,this.options.enableSimulation)}start(){let t=this.series,o=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.chart=t[0]&&t[0].chart,this.initialRendering&&(this.initPositions(),t.forEach(function(r){r.finishedAnimating=!0,r.render()})),this.setK(),this.resetSimulation(o),this.enableSimulation&&this.step()}step(){let t=this.series;for(let o of(this.currentStep++,this.approximation==="barnes-hut"&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter()),this.forces||[]))this[o+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(let o of t)o.chart&&o.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&p.cancelAnimationFrame(this.simulation),this.simulation=p.requestAnimationFrame(()=>this.step())):(this.simulation=!1,this.series.forEach(o=>{S(o,"afterSimulation")}))}}stop(){this.simulation&&p.cancelAnimationFrame(this.simulation)}setArea(t,o,r,a){this.box={left:t,top:o,width:r,height:a}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(t,o){for(let r of t)o.indexOf(r)===-1&&o.push(r)}removeElementFromCollection(t,o){let r=o.indexOf(t);r!==-1&&o.splice(r,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(t){this.maxIterations=l(t,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(t){this.initialRendering=t}createQuadTree(){this.quadTree=new n(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){let t=this.options.initialPositions;if(N(t))for(let o of(t.call(this),this.nodes))L(o.prevX)||(o.prevX=o.plotX),L(o.prevY)||(o.prevY=o.plotY),o.dispX=0,o.dispY=0;else t==="circle"?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){let t,o=this.box,r=this.nodes,a=2*Math.PI/(r.length+1),m=r.filter(function(h){return h.linksTo.length===0}),k={},y=this.options.initialPositionRadius,M=h=>{for(let u of h.linksFrom||[])k[u.toNode.id]||(k[u.toNode.id]=!0,w.push(u.toNode),M(u.toNode))},w=[];for(let h of m)w.push(h),M(h);if(w.length)for(let h of r)w.indexOf(h)===-1&&w.push(h);else w=r;for(let h=0,u=w.length;h<u;++h)(t=w[h]).plotX=t.prevX=l(t.plotX,o.width/2+y*Math.cos(h*a)),t.plotY=t.prevY=l(t.plotY,o.height/2+y*Math.sin(h*a)),t.dispX=0,t.dispY=0}setRandomPositions(){let t,o=this.box,r=this.nodes,a=r.length+1,m=k=>{let y=k*k/Math.PI;return y-Math.floor(y)};for(let k=0,y=r.length;k<y;++k)(t=r[k]).plotX=t.prevX=l(t.plotX,o.width*m(k)),t.plotY=t.prevY=l(t.plotY,o.height*m(a+k)),t.dispX=0,t.dispY=0}force(t,...o){this.integration[t].apply(this,o)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let t=0,o=0,r=0;for(let a of this.nodes)o+=a.plotX*a.mass,r+=a.plotY*a.mass,t+=a.mass;return this.barycenter={x:o,y:r,xFactor:o/t,yFactor:r/t},this.barycenter}barnesHutApproximation(t,o){let r,a,m=this.getDistXY(t,o),k=this.vectorLength(m);return t!==o&&k!==0&&(o.isInternal?o.boxSize/k<this.options.theta&&k!==0?(a=this.repulsiveForce(k,this.k),this.force("repulsive",t,a*o.mass,m,k),r=!1):r=!0:(a=this.repulsiveForce(k,this.k),this.force("repulsive",t,a*o.mass,m,k))),r}repulsiveForces(){if(this.approximation==="barnes-hut")for(let t of this.nodes)this.quadTree.visitNodeRecursive(null,o=>this.barnesHutApproximation(t,o));else{let t,o,r;for(let a of this.nodes)for(let m of this.nodes)a===m||a.fixedPosition||(r=this.getDistXY(a,m),(o=this.vectorLength(r))!==0&&(t=this.repulsiveForce(o,this.k),this.force("repulsive",a,t*m.mass,r,o)))}}attractiveForces(){let t,o,r;for(let a of this.links)a.fromNode&&a.toNode&&(t=this.getDistXY(a.fromNode,a.toNode),(o=this.vectorLength(t))!==0&&(r=this.attractiveForce(o,this.k),this.force("attractive",a,r,t,o)))}applyLimits(){for(let t of this.nodes)t.fixedPosition||(this.integration.integrate(this,t),this.applyLimitBox(t,this.box),t.dispX=0,t.dispY=0)}applyLimitBox(t,o){let r=t.radius;t.plotX=v(t.plotX,o.left+r,o.width-r),t.plotY=v(t.plotY,o.top+r,o.height-r)}coolDown(t,o,r){return t-o*r}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||this.temperature<=0}getSystemTemperature(){let t=0;for(let o of this.nodes)t+=o.temperature;return t}vectorLength(t){return Math.sqrt(t.x*t.x+t.y*t.y)}getDistR(t,o){let r=this.getDistXY(t,o);return this.vectorLength(r)}getDistXY(t,o){let r=t.plotX-o.plotX,a=t.plotY-o.plotY;return{x:r,y:a,absX:Math.abs(r),absY:Math.abs(a)}}}return c}),X(g,"Series/SimulationSeriesUtilities.js",[g["Core/Utilities.js"],g["Core/Animation/AnimationUtilities.js"]],function(e,i){let{merge:s,syncTimeout:n}=e,{animObject:f}=i;return{initDataLabels:function(){let d=this.options.dataLabels;if(!this.dataLabelsGroup){let p=this.initDataLabelsGroup();return!this.chart.styledMode&&(d!=null&&d.style)&&p.css(d.style),p.attr({opacity:0}),this.visible&&p.show(),p}return this.dataLabelsGroup.attr(s({opacity:1},this.getPlotBox("data-labels"))),this.dataLabelsGroup},initDataLabelsDefer:function(){var p;let d=this.options.dataLabels;d!=null&&d.defer&&((p=this.options.layoutAlgorithm)!=null&&p.enableSimulation)?n(()=>{this.deferDataLabels=!1},d?f(d.animation).defer:0):this.deferDataLabels=!1}}}),X(g,"Series/Networkgraph/NetworkgraphSeries.js",[g["Series/DragNodesComposition.js"],g["Series/GraphLayoutComposition.js"],g["Core/Globals.js"],g["Series/Networkgraph/NetworkgraphPoint.js"],g["Series/Networkgraph/NetworkgraphSeriesDefaults.js"],g["Series/NodesComposition.js"],g["Series/Networkgraph/ReingoldFruchtermanLayout.js"],g["Core/Series/SeriesRegistry.js"],g["Series/SimulationSeriesUtilities.js"],g["Core/Utilities.js"]],function(e,i,s,n,f,d,p,v,L,N){let{noop:S}=s,{series:l,seriesTypes:{column:{prototype:c},line:{prototype:x}}}=v,{initDataLabels:t,initDataLabelsDefer:o}=L,{addEvent:r,defined:a,extend:m,merge:k,pick:y}=N;class M extends l{constructor(){super(...arguments),this.deferDataLabels=!0}static compose(h){e.compose(h),p.compose(h)}deferLayout(){let h=this.options.layoutAlgorithm,u=this.chart.options.chart,b,P=this.chart.graphLayoutsStorage,D=this.chart.graphLayoutsLookup;this.visible&&(P||(this.chart.graphLayoutsStorage=P={},this.chart.graphLayoutsLookup=D=[]),(b=P[h.type])||(h.enableSimulation=a(u.forExport)?!u.forExport:h.enableSimulation,P[h.type]=b=new i.layouts[h.type],b.init(h),D.splice(b.index,0,b)),this.layout=b,b.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),b.addElementsToCollection([this],b.series),b.addElementsToCollection(this.nodes,b.nodes),b.addElementsToCollection(this.points,b.links))}destroy(){this.layout&&this.layout.removeElementFromCollection(this,this.layout.series),d.destroy.call(this)}drawDataLabels(){let h;if(this.deferDataLabels)return;let u=this.options.dataLabels;u!=null&&u.textPath&&(h=u.textPath),l.prototype.drawDataLabels.call(this,this.nodes),u!=null&&u.linkTextPath&&(u.textPath=u.linkTextPath),l.prototype.drawDataLabels.call(this,this.data),u!=null&&u.textPath&&(u.textPath=h)}generatePoints(){let h,u;for(d.generatePoints.apply(this,arguments),this.options.nodes&&this.options.nodes.forEach(function(b){this.nodeLookup[b.id]||(this.nodeLookup[b.id]=this.createNode(b.id))},this),u=this.nodes.length-1;u>=0;u--)(h=this.nodes[u]).degree=h.getDegree(),h.radius=y(h.marker&&h.marker.radius,this.options.marker&&this.options.marker.radius,0),this.nodeLookup[h.id]||h.remove();this.data.forEach(function(b){b.formatPrefix="link"}),this.indexateNodes()}getPointsCollection(){return this.nodes||[]}indexateNodes(){this.nodes.forEach(function(h,u){h.index=u})}init(h,u){return super.init(h,u),o.call(this),r(this,"updatedData",()=>{this.layout&&this.layout.stop()}),r(this,"afterUpdate",()=>{this.nodes.forEach(b=>{b&&b.series&&b.resolveColor()})}),r(this,"afterSimulation",function(){this.deferDataLabels=!1,this.drawDataLabels()}),this}markerAttribs(h,u){let b=l.prototype.markerAttribs.call(this,h,u);return a(h.plotY)||(b.y=0),b.x=(h.plotX||0)-(b.width||0)/2,b}pointAttribs(h,u){let b=u||h&&h.state||"normal",P=this.options.states[b],D=l.prototype.pointAttribs.call(this,h,b);return h&&!h.isNode&&(D=h.getLinkAttributes(),P&&(D={stroke:P.linkColor||D.stroke,dashstyle:P.linkDashStyle||D.dashstyle,opacity:y(P.linkOpacity,D.opacity),"stroke-width":P.linkColor||D["stroke-width"]})),D}render(){let h=this.points,u=this.chart.hoverPoint,b=[];this.points=this.nodes,x.render.call(this),this.points=h,h.forEach(function(P){P.fromNode&&P.toNode&&(P.renderLink(),P.redrawLink())}),u&&u.series===this&&this.redrawHalo(u),this.chart.hasRendered&&!this.options.dataLabels.allowOverlap&&(this.nodes.concat(this.points).forEach(function(P){P.dataLabel&&b.push(P.dataLabel)}),this.chart.hideOverlappingLabels(b))}setState(h,u){u?(this.points=this.nodes.concat(this.data),l.prototype.setState.apply(this,arguments),this.points=this.data):l.prototype.setState.apply(this,arguments),this.layout.simulation||h||this.render()}translate(){this.processedXData||this.processData(),this.generatePoints(),this.deferLayout(),this.nodes.forEach(function(h){h.isInside=!0,h.linksFrom.forEach(function(u){u.shapeType="path",u.y=1})})}}return M.defaultOptions=k(l.defaultOptions,f),m(M.prototype,{pointClass:n,animate:void 0,directTouch:!0,drawGraph:void 0,forces:["barycenter","repulsive","attractive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["from","to"],requireSorting:!1,trackerGroups:["group","markerGroup","dataLabelsGroup"],initDataLabels:t,buildKDTree:S,createNode:d.createNode,drawTracker:c.drawTracker,onMouseDown:e.onMouseDown,onMouseMove:e.onMouseMove,onMouseUp:e.onMouseUp,redrawHalo:e.redrawHalo}),v.registerSeriesType("networkgraph",M),M}),X(g,"masters/modules/networkgraph.src.js",[g["Core/Globals.js"],g["Series/Networkgraph/NetworkgraphSeries.js"]],function(e,i){return i.compose(e.Chart),e})})})(C);var E=C.exports;const I=F(E),O=j({__proto__:null,default:I},[E]);export{O as n};
