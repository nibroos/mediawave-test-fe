import{b7 as Z}from"./DPHdV5Tz.js";function ee(Y,B){for(var b=0;b<B.length;b++){const I=B[b];if(typeof I!="string"&&!Array.isArray(I)){for(const y in I)if(y!=="default"&&!(y in Y)){const g=Object.getOwnPropertyDescriptor(I,y);g&&Object.defineProperty(Y,y,g.get?g:{enumerable:!0,get:()=>I[y]})}}}return Object.freeze(Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}))}var K={exports:{}};(function(Y){(function(B){Y.exports?(B.default=B,Y.exports=B):B(typeof Highcharts<"u"?Highcharts:void 0)})(function(B){var b=B?B._modules:{};function I(y,g,C,O){y.hasOwnProperty(g)||(y[g]=O.apply(null,C),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:g,module:y[g]}})))}I(b,"Core/Geometry/GeometryUtilities.js",[],function(){var y,g;return(g=y||(y={})).getCenterOfPoints=function(C){let O=C.reduce((U,v)=>(U.x+=v.x,U.y+=v.y,U),{x:0,y:0});return{x:O.x/C.length,y:O.y/C.length}},g.getDistanceBetweenPoints=function(C,O){return Math.sqrt(Math.pow(O.x-C.x,2)+Math.pow(O.y-C.y,2))},g.getAngleBetweenPoints=function(C,O){return Math.atan2(O.x-C.x,O.y-C.y)},y}),I(b,"Core/Geometry/CircleUtilities.js",[b["Core/Geometry/GeometryUtilities.js"]],function(y){var g;let{getAngleBetweenPoints:C,getCenterOfPoints:O,getDistanceBetweenPoints:U}=y;return function(v){function L(f,p){let m=Math.pow(10,p);return Math.round(f*m)/m}function S(f){if(f<=0)throw Error("radius of circle must be a positive number.");return Math.PI*f*f}function w(f,p){return f*f*Math.acos(1-p/f)-(f-p)*Math.sqrt(p*(2*f-p))}function _(f,p){let m=U(f,p),A=f.r,j=p.r,E=[];if(m<A+j&&m>Math.abs(A-j)){let M=A*A,P=(M-j*j+m*m)/(2*m),V=Math.sqrt(M-P*P),a=f.x,l=p.x,o=f.y,h=p.y,t=a+P*(l-a)/m,r=o+P*(h-o)/m,e=-(V/m*(h-o)),i=-(V/m*(l-a));E=[{x:L(t+e,14),y:L(r-i,14)},{x:L(t-e,14),y:L(r+i,14)}]}return E}function z(f){return f.reduce((p,m,A,j)=>{let E=j.slice(A+1).reduce((M,P,V)=>{let a=[A,V+A+1];return M.concat(_(m,P).map(l=>(l.indexes=a,l)))},[]);return p.concat(E)},[])}function G(f,p){return U(f,p)<=p.r+1e-10}function $(f,p){return!p.some(function(m){return!G(f,m)})}function q(f){return z(f).filter(function(p){return $(p,f)})}v.round=L,v.getAreaOfCircle=S,v.getCircularSegmentArea=w,v.getOverlapBetweenCircles=function(f,p,m){let A=0;if(m<f+p){if(m<=Math.abs(p-f))A=S(f<p?f:p);else{let j=(f*f-p*p+m*m)/(2*m);A=w(f,f-j)+w(p,p-(m-j))}A=L(A,14)}return A},v.getCircleCircleIntersection=_,v.getCirclesIntersectionPoints=z,v.isCircle1CompletelyOverlappingCircle2=function(f,p){return U(f,p)+p.r<f.r+1e-10},v.isPointInsideCircle=G,v.isPointInsideAllCircles=$,v.isPointOutsideAllCircles=function(f,p){return!p.some(function(m){return G(f,m)})},v.getCirclesIntersectionPolygon=q,v.getAreaOfIntersectionBetweenCircles=function(f){let p=q(f),m;if(p.length>1){let A=O(p),j=(p=p.map(function(M){return M.angle=C(A,M),M}).sort(function(M,P){return P.angle-M.angle}))[p.length-1],E=p.reduce(function(M,P){let{startPoint:V}=M,a=O([V,P]),l=P.indexes.filter(function(o){return V.indexes.indexOf(o)>-1}).reduce(function(o,h){let t=f[h],r=C(t,P),e=C(t,V),i=e-(e-r+(e<r?2*Math.PI:0))/2,s=U(a,{x:t.x+t.r*Math.sin(i),y:t.y+t.r*Math.cos(i)}),{r:n}=t;return s>2*n&&(s=2*n),(!o||o.width>s)&&(o={r:n,largeArc:s>n?1:0,width:s,x:P.x,y:P.y}),o},null);if(l){let{r:o}=l;M.arcs.push(["A",o,o,0,l.largeArc,1,l.x,l.y]),M.startPoint=P}return M},{startPoint:j,arcs:[]}).arcs;E.length===0||E.length===1||(E.unshift(["M",j.x,j.y]),m={center:A,d:E})}return m}}(g||(g={})),g}),I(b,"Series/DrawPointUtilities.js",[],function(){return{draw:function(y,g){let{animatableAttribs:C,onComplete:O,css:U,renderer:v}=g,L=y.series&&y.series.chart.hasRendered?void 0:y.series&&y.series.options.animation,S=y.graphic;if(g.attribs={...g.attribs,class:y.getClassName()},y.shouldDraw())S||(S=g.shapeType==="text"?v.text():g.shapeType==="image"?v.image(g.imageUrl||"").attr(g.shapeArgs||{}):v[g.shapeType](g.shapeArgs||{}),y.graphic=S,S.add(g.group)),U&&S.css(U),S.attr(g.attribs).animate(C,!g.isNew&&L,O);else if(S){let w=()=>{y.graphic=S=S&&S.destroy(),typeof O=="function"&&O()};Object.keys(C).length?S.animate(C,void 0,()=>w()):w()}}}}),I(b,"Series/Venn/VennPoint.js",[b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(y,g){let{scatter:{prototype:{pointClass:C}}}=y.seriesTypes,{isNumber:O}=g;return class extends C{isValid(){return O(this.value)}shouldDraw(){return!!this.shapeArgs}}}),I(b,"Series/Venn/VennSeriesDefaults.js",[],function(){return{borderColor:"#cccccc",borderDashStyle:"solid",borderWidth:1,brighten:0,clip:!1,colorByPoint:!0,dataLabels:{enabled:!0,verticalAlign:"middle",formatter:function(){return this.point.name}},inactiveOtherPoints:!0,marker:!1,opacity:.75,showInLegend:!1,legendType:"point",states:{hover:{opacity:1,borderColor:"#333333"},select:{color:"#cccccc",borderColor:"#000000",animation:!1},inactive:{opacity:.075}},tooltip:{pointFormat:"{point.name}: {point.value}"},legendSymbol:"rectangle"}}),I(b,"Series/Venn/VennUtils.js",[b["Core/Geometry/CircleUtilities.js"],b["Core/Geometry/GeometryUtilities.js"],b["Core/Utilities.js"]],function(y,g,C){let{getAreaOfCircle:O,getCircleCircleIntersection:U,getOverlapBetweenCircles:v,isPointInsideAllCircles:L,isPointInsideCircle:S,isPointOutsideAllCircles:w}=y,{getDistanceBetweenPoints:_}=g,{extend:z,isArray:G,isNumber:$,isObject:q,isString:f}=C;function p(a){let l={};return a.filter(o=>o.sets.length===2).forEach(o=>{o.sets.forEach((h,t,r)=>{q(l[h])||(l[h]={totalOverlap:0,overlapping:{}}),l[h]={totalOverlap:(l[h].totalOverlap||0)+o.value,overlapping:{...l[h].overlapping||{},[r[1-t]]:o.value}}})}),a.filter(E).forEach(o=>{let h=l[o.sets[0]];z(o,h)}),a}function m(a,l,o,h,t){let r=a(l),e=a(o),i=t||100,s=h||1e-10,n=o-l,c,u,d=1;if(l>=o)throw Error("a must be smaller than b.");if(r*e>0)throw Error("f(a) and f(b) must have opposite signs.");if(r===0)c=l;else if(e===0)c=o;else for(;d++<=i&&u!==0&&n>s;)n=(o-l)/2,r*(u=a(c=l+n))>0?l=c:o=c;return c}function A(a){let l=a.slice(0,-1),o=l.length,h=[],t=(r,e)=>(r.sum+=e[r.i],r);for(let r=0;r<o;r++)h[r]=l.reduce(t,{sum:0,i:r}).sum/o;return h}function j(a,l,o){let h=a+l;return o<=0?h:O(a<l?a:l)<=o?0:m(t=>o-v(a,l,t),0,h)}function E(a){return G(a.sets)&&a.sets.length===1}function M(a){let l={};return q(a)&&$(a.value)&&a.value>-1&&G(a.sets)&&a.sets.length>0&&!a.sets.some(function(o){let h=!1;return!l[o]&&f(o)?l[o]=!0:h=!0,h})}function P(a,l){return l.reduce(function(o,h){let t=0;if(h.sets.length>1){let r=h.value-function(e){let i=0;if(e.length===2){let s=e[0],n=e[1];i=v(s.r,n.r,_(s,n))}return i}(h.sets.map(function(e){return a[e]}));t=Math.round(r*r*1e11)/1e11}return o+t},0)}function V(a,l){return l.totalOverlap!==void 0&&a.totalOverlap!==void 0?l.totalOverlap-a.totalOverlap:NaN}return{geometry:g,geometryCircles:y,addOverlapToSets:p,getCentroid:A,getDistanceBetweenCirclesByOverlap:j,getLabelWidth:function(a,l,o){let h=l.reduce((e,i)=>Math.min(i.r,e),1/0),t=o.filter(e=>!S(a,e)),r=function(e,i){return m(s=>{let n={x:a.x+i*s,y:a.y};return-(e-s)+(L(n,l)&&w(n,t)?0:Number.MAX_VALUE)},0,e)};return 2*Math.min(r(h,-1),r(h,1))},getMarginFromCircles:function(a,l,o){let h=l.reduce((t,r)=>{let e=r.r-_(a,r);return e<=t?e:t},Number.MAX_VALUE);return o.reduce((t,r)=>{let e=_(a,r)-r.r;return e<=t?e:t},h)},isSet:E,layoutGreedyVenn:function(a){let l=[],o={};a.filter(e=>e.sets.length===1).forEach(e=>{o[e.sets[0]]=e.circle={x:Number.MAX_VALUE,y:Number.MAX_VALUE,r:Math.sqrt(e.value/Math.PI)}});let h=(e,i)=>{let s=e.circle;s&&(s.x=i.x,s.y=i.y),l.push(e)};p(a);let t=a.filter(E).sort(V);h(t.shift(),{x:0,y:0});let r=a.filter(e=>e.sets.length===2);for(let e of t){let i=e.circle;if(!i)continue;let s=i.r,n=e.overlapping;h(e,l.reduce((c,u,d)=>{let x=u.circle;if(!x||!n)return c;let X=n[u.sets[0]],W=j(s,x.r,X),T=[{x:x.x+W,y:x.y},{x:x.x-W,y:x.y},{x:x.x,y:x.y+W},{x:x.x,y:x.y-W}];for(let k of l.slice(d+1)){let N=k.circle,H=n[k.sets[0]];if(!N)continue;let R=j(s,N.r,H);T=T.concat(U({x:x.x,y:x.y,r:W},{x:N.x,y:N.y,r:R}))}for(let k of T){i.x=k.x,i.y=k.y;let N=P(o,r);N<c.loss&&(c.loss=N,c.coordinates=k)}return c},{loss:Number.MAX_VALUE,coordinates:void 0}).coordinates)}return o},loss:P,nelderMead:function(a,l){let o=function(s,n){return s.fx-n.fx},h=(s,n,c,u)=>n.map((d,x)=>s*d+c*u[x]),t=(s,n)=>(n.fx=a(n),s[s.length-1]=n,s),r=s=>{let n=s[0];return s.map(c=>{let u=h(.5,n,.5,c);return u.fx=a(u),u})},e=(s,n,c,u)=>{let d=h(c,s,u,n);return d.fx=a(d),d},i=(s=>{let n=s.length,c=Array(n+1);c[0]=s,c[0].fx=a(s);for(let u=0;u<n;++u){let d=s.slice();d[u]=d[u]?1.05*d[u]:.001,d.fx=a(d),c[u+1]=d}return c})(l);for(let s=0;s<100;s++){i.sort(o);let n=i[i.length-1],c=A(i),u=e(c,n,2,-1);if(u.fx<i[0].fx){let d=e(c,n,3,-2);i=t(i,d.fx<u.fx?d:u)}else if(u.fx>=i[i.length-2].fx){let d;i=u.fx>n.fx?(d=e(c,n,.5,.5)).fx<n.fx?t(i,d):r(i):(d=e(c,n,1.5,-.5)).fx<u.fx?t(i,d):r(i)}else i=t(i,u)}return i[0]},processVennData:function(a,l){let o=G(a)?a:[],h=o.reduce(function(r,e){var i;return e.sets&&M(i=e)&&E(i)&&i.value>0&&r.indexOf(e.sets[0])===-1&&r.push(e.sets[0]),r},[]).sort(),t=o.reduce(function(r,e){return e.sets&&M(e)&&!e.sets.some(function(i){return h.indexOf(i)===-1})&&(r[e.sets.sort().join(l)]={sets:e.sets,value:e.value||0}),r},{});return h.reduce(function(r,e,i,s){return s.slice(i+1).forEach(function(n){r.push(e+l+n)}),r},[]).forEach(function(r){if(!t[r]){let e={sets:r.split(l),value:0};t[r]=e}}),Object.keys(t).map(function(r){return t[r]})},sortByTotalOverlap:V}}),I(b,"Series/Venn/VennSeries.js",[b["Core/Animation/AnimationUtilities.js"],b["Core/Color/Color.js"],b["Core/Geometry/CircleUtilities.js"],b["Series/DrawPointUtilities.js"],b["Core/Geometry/GeometryUtilities.js"],b["Core/Series/SeriesRegistry.js"],b["Series/Venn/VennPoint.js"],b["Series/Venn/VennSeriesDefaults.js"],b["Series/Venn/VennUtils.js"],b["Core/Utilities.js"]],function(y,g,C,O,U,v,L,S,w,_){let{animObject:z}=y,{parse:G}=g,{getAreaOfIntersectionBetweenCircles:$,getCirclesIntersectionPolygon:q,isCircle1CompletelyOverlappingCircle2:f,isPointInsideAllCircles:p,isPointOutsideAllCircles:m}=C,{getCenterOfPoints:A}=U,{scatter:j}=v.seriesTypes,{addEvent:E,extend:M,isArray:P,isNumber:V,isObject:a,merge:l}=_;class o extends j{static getLabelPosition(t,r){let e=t.reduce((s,n)=>{let c=n.r/2;return[{x:n.x,y:n.y},{x:n.x+c,y:n.y},{x:n.x-c,y:n.y},{x:n.x,y:n.y+c},{x:n.x,y:n.y-c}].reduce((u,d)=>{let x=w.getMarginFromCircles(d,t,r);return u.margin<x&&(u.point=d,u.margin=x),u},s)},{point:void 0,margin:-Number.MAX_VALUE}).point,i=w.nelderMead(s=>-w.getMarginFromCircles({x:s[0],y:s[1]},t,r),[e.x,e.y]);return p(e={x:i[0],y:i[1]},t)&&m(e,r)||(e=t.length>1?A(q(t)):{x:t[0].x,y:t[0].y}),e}static getLabelValues(t,r){let e=t.sets,i=r.reduce((c,u)=>{let d=e.indexOf(u.sets[0])>-1;return u.circle&&c[d?"internal":"external"].push(u.circle),c},{internal:[],external:[]});i.external=i.external.filter(c=>i.internal.some(u=>!f(c,u)));let s=o.getLabelPosition(i.internal,i.external),n=w.getLabelWidth(s,i.internal,i.external);return{position:s,width:n}}static layout(t){let r={},e={};if(t.length>0){let i=w.layoutGreedyVenn(t),s=t.filter(w.isSet);for(let n of t){let c=n.sets,u=c.join(),d=w.isSet(n)?i[u]:$(c.map(x=>i[x]));d&&(r[u]=d,e[u]=o.getLabelValues(n,s))}}return{mapOfIdToShape:r,mapOfIdToLabelValues:e}}static getScale(t,r,e){let i=e.bottom-e.top,s=e.right-e.left,n=(e.right+e.left)/2,c=(e.top+e.bottom)/2,u=Math.min(s>0?1/s*t:1,i>0?1/i*r:1);return{scale:u,centerX:t/2-n*u,centerY:r/2-c*u}}static updateFieldBoundaries(t,r){let e=r.x-r.r,i=r.x+r.r,s=r.y+r.r,n=r.y-r.r;return(!V(t.left)||t.left>e)&&(t.left=e),(!V(t.right)||t.right<i)&&(t.right=i),(!V(t.top)||t.top>n)&&(t.top=n),(!V(t.bottom)||t.bottom<s)&&(t.bottom=s),t}animate(t){if(!t){let r=z(this.options.animation);for(let e of this.points){let i=e.shapeArgs;if(e.graphic&&i){let s={},n={};i.d?s.opacity=.001:(s.r=0,n.r=i.r),e.graphic.attr(s).animate(n,r),i.d&&setTimeout(()=>{e&&e.graphic&&e.graphic.animate({opacity:1})},r.duration)}}}}drawPoints(){let t=this.chart,r=this.group,e=this.points||[],i=t.renderer;for(let s of e){let n={zIndex:P(s.sets)?s.sets.length:0},c=s.shapeArgs;t.styledMode||M(n,this.pointAttribs(s,s.state)),O.draw(s,{isNew:!s.graphic,animatableAttribs:c,attribs:n,group:r,renderer:i,shapeType:c&&c.d?"path":"circle"})}}init(){j.prototype.init.apply(this,arguments),delete this.opacity}pointAttribs(t,r){let e=this.options||{},i=t&&t.options||{},s=r&&e.states[r]||{},n=l(e,{color:t&&t.color},i,s);return{fill:G(n.color).brighten(n.brightness).get(),opacity:n.opacity,stroke:n.borderColor,"stroke-width":n.borderWidth,dashstyle:n.borderDashStyle}}translate(){let t=this.chart;this.processedXData=this.xData,this.generatePoints();let r=w.processVennData(this.options.data,o.splitter),{mapOfIdToShape:e,mapOfIdToLabelValues:i}=o.layout(r),s=Object.keys(e).filter(x=>{let X=e[x];return X&&V(X.r)}).reduce((x,X)=>o.updateFieldBoundaries(x,e[X]),{top:0,bottom:0,left:0,right:0}),n=o.getScale(t.plotWidth,t.plotHeight,s),c=n.scale,u=n.centerX,d=n.centerY;for(let x of this.points){let X=P(x.sets)?x.sets:[],W=X.join(),T=e[W],k=i[W]||{},N=x.options&&x.options.dataLabels,H,R=k.width,F=k.position;if(T){if(T.r)H={x:u+T.x*c,y:d+T.y*c,r:T.r*c};else if(T.d){let J=T.d;J.forEach(D=>{D[0]==="M"?(D[1]=u+D[1]*c,D[2]=d+D[2]*c):D[0]==="A"&&(D[1]=D[1]*c,D[2]=D[2]*c,D[6]=u+D[6]*c,D[7]=d+D[7]*c)}),H={d:J}}F?(F.x=u+F.x*c,F.y=d+F.y*c):F={},V(R)&&(R=Math.round(R*c))}x.shapeArgs=H,F&&H&&(x.plotX=F.x,x.plotY=F.y),R&&H&&(x.dlOptions=l(!0,{style:{width:R}},a(N,!0)?N:void 0)),x.name=x.options.name||X.join("∩")}}}return o.splitter="highcharts-split",o.defaultOptions=l(j.defaultOptions,S),M(o.prototype,{axisTypes:[],directTouch:!0,isCartesian:!1,pointArrayMap:["value"],pointClass:L,utils:w}),E(o,"afterSetOptions",function(h){let t=h.options.states||{};if(this.is("venn"))for(let r of Object.keys(t))t[r].halo=!1}),v.registerSeriesType("venn",o),o}),I(b,"masters/modules/venn.src.js",[b["Core/Globals.js"]],function(y){return y})})})(K);var Q=K.exports;const te=Z(Q),ne=ee({__proto__:null,default:te},[Q]);export{ne as v};
