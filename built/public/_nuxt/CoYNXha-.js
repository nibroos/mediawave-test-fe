import{b7 as mt}from"./DPHdV5Tz.js";function xt(B,O){for(var r=0;r<O.length;r++){const A=O[r];if(typeof A!="string"&&!Array.isArray(A)){for(const a in A)if(a!=="default"&&!(a in B)){const l=Object.getOwnPropertyDescriptor(A,a);l&&Object.defineProperty(B,a,l.get?l:{enumerable:!0,get:()=>A[a]})}}}return Object.freeze(Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}))}var dt={exports:{}};(function(B){(function(O){B.exports?(O.default=O,B.exports=O):O(typeof Highcharts<"u"?Highcharts:void 0)})(function(O){var r=O?O._modules:{};function A(a,l,b,v){a.hasOwnProperty(l)||(a[l]=v.apply(null,b),typeof CustomEvent=="function"&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:l,module:a[l]}})))}A(r,"Extensions/DataGrouping/ApproximationRegistry.js",[],function(){return{}}),A(r,"Extensions/DataGrouping/ApproximationDefaults.js",[r["Extensions/DataGrouping/ApproximationRegistry.js"],r["Core/Utilities.js"]],function(a,l){let{arrayMax:b,arrayMin:v,correctFloat:_,extend:U,isNumber:m}=l;function C(o){let t=o.length,e=P(o);return m(e)&&t&&(e=_(e/t)),e}function P(o){let t=o.length,e;if(!t&&o.hasNulls)e=null;else if(t)for(e=0;t--;)e+=o[t];return e}let H={average:C,averages:function(){let o=[];return[].forEach.call(arguments,function(t){o.push(C(t))}),o[0]===void 0?void 0:o},close:function(o){return o.length?o[o.length-1]:o.hasNulls?null:void 0},high:function(o){return o.length?b(o):o.hasNulls?null:void 0},hlc:function(o,t,e){if(o=a.high(o),t=a.low(t),e=a.close(e),m(o)||m(t)||m(e))return[o,t,e]},low:function(o){return o.length?v(o):o.hasNulls?null:void 0},ohlc:function(o,t,e,d){if(o=a.open(o),t=a.high(t),e=a.low(e),d=a.close(d),m(o)||m(t)||m(e)||m(d))return[o,t,e,d]},open:function(o){return o.length?o[0]:o.hasNulls?null:void 0},range:function(o,t){return o=a.low(o),t=a.high(t),m(o)||m(t)?[o,t]:o===null&&t===null?null:void 0},sum:P};return U(a,H),H}),A(r,"Extensions/DataGrouping/DataGroupingDefaults.js",[],function(){return{common:{groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %e %b, %H:%M:%S.%L","%A, %e %b, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %e %b, %H:%M:%S","%A, %e %b, %H:%M:%S","-%H:%M:%S"],minute:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],hour:["%A, %e %b, %H:%M","%A, %e %b, %H:%M","-%H:%M"],day:["%A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],week:["Week from %A, %e %b %Y","%A, %e %b","-%A, %e %b %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},seriesSpecific:{line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]]}}),A(r,"Extensions/DataGrouping/DataGroupingAxisComposition.js",[r["Extensions/DataGrouping/DataGroupingDefaults.js"],r["Core/Utilities.js"]],function(a,l){let b,{addEvent:v,extend:_,merge:U,pick:m}=l;function C(t){let e=this,d=e.series;d.forEach(function(g){g.groupPixelWidth=void 0}),d.forEach(function(g){g.groupPixelWidth=e.getGroupPixelWidth&&e.getGroupPixelWidth(),g.groupPixelWidth&&(g.hasProcessed=!0),g.applyGrouping(!!t.hasExtremesChanged)})}function P(){let t=this.series,e=t.length,d=0,g=!1,F,j;for(;e--;)(j=t[e].options.dataGrouping)&&(d=Math.max(d,m(j.groupPixelWidth,a.common.groupPixelWidth)),F=(t[e].processedXData||t[e].data).length,(t[e].groupPixelWidth||F>this.chart.plotSizeX/d||F&&j.forced)&&(g=!0));return g?d:0}function H(){this.series.forEach(function(t){t.hasProcessed=!1})}function o(t,e){let d;if(e=m(e,!0),t||(t={forced:!1,units:null}),this instanceof b)for(d=this.series.length;d--;)this.series[d].update({dataGrouping:t},!1);else this.chart.options.series.forEach(function(g){g.dataGrouping=typeof t=="boolean"?t:U(t,g.dataGrouping)});this.ordinal&&(this.ordinal.slope=void 0),e&&this.chart.redraw()}return{compose:function(t){b=t;let e=t.prototype;e.applyGrouping||(v(t,"afterSetScale",H),v(t,"postProcessData",C),_(e,{applyGrouping:C,getGroupPixelWidth:P,setDataGrouping:o}))}}}),A(r,"Extensions/DataGrouping/DataGroupingSeriesComposition.js",[r["Extensions/DataGrouping/ApproximationRegistry.js"],r["Extensions/DataGrouping/DataGroupingDefaults.js"],r["Core/Axis/DateTimeAxis.js"],r["Core/Defaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(a,l,b,v,_,U){let{series:{prototype:m}}=_,{addEvent:C,defined:P,error:H,extend:o,isNumber:t,merge:e,pick:d}=U,g=m.generatePoints;function F(c){var s;let h,f,n=this.chart,p=this.options.dataGrouping,E=this.allowDG!==!1&&p&&d(p.enabled,n.options.isStock),D=this.reserveSpace(),w=this.currentDataGrouping,W,k,q=!1;E&&!this.requireSorting&&(this.requireSorting=q=!0);let G=!!(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!c)||!E;if(q&&(this.requireSorting=!1),G)return;this.destroyGroupedData();let y=p.groupAll?this.xData:this.processedXData,V=p.groupAll?this.yData:this.processedYData,ot=n.plotSizeX,i=this.xAxis,Z=i.options.ordinal,$=this.groupPixelWidth;if($&&y&&y.length&&ot){f=!0,this.isDirty=!0,this.points=null;let J=i.getExtremes(),L=J.min,N=J.max,nt=Z&&i.ordinal&&i.ordinal.getGroupIntervalFactor(L,N,this)||1,rt=$*(N-L)/ot*nt,u=i.getTimeTicks(b.Additions.prototype.normalizeTimeTickInterval(rt,p.units||l.units),Math.min(L,y[0]),Math.max(N,y[y.length-1]),i.options.startOfWeek,y,this.closestPointRange),M=m.groupData.apply(this,[y,V,u,p.approximation]),Y=M.groupedXData,K=M.groupedYData,R=0;for(p&&p.smoothed&&Y.length&&(p.firstAnchor="firstPoint",p.anchor="middle",p.lastAnchor="lastPoint",H(32,!1,n,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),h=1;h<u.length;h++)u.info.segmentStarts&&u.info.segmentStarts.indexOf(h)!==-1||(R=Math.max(u[h]-u[h-1],R));(W=u.info).gapSize=R,this.closestPointRange=u.info.totalRange,this.groupMap=M.groupMap,this.currentDataGrouping=W,function(x,S,ft){let et=x.options.dataGrouping,X=x.currentDataGrouping&&x.currentDataGrouping.gapSize;if(!(et&&x.xData&&X&&x.groupMap))return;let Q=S.length-1,st=et.anchor,pt=et.firstAnchor,ut=et.lastAnchor,at=S.length-1,lt=0;if(pt&&x.xData[0]>=S[0]){let z;lt++;let gt=x.groupMap[0].start,ht=x.groupMap[0].length;t(gt)&&t(ht)&&(z=gt+(ht-1)),S[0]={start:S[0],middle:S[0]+.5*X,end:S[0]+X,firstPoint:x.xData[0],lastPoint:z&&x.xData[z]}[pt]}if(Q>0&&ut&&X&&S[Q]>=ft-X){at--;let z=x.groupMap[x.groupMap.length-1].start;S[Q]={start:S[Q],middle:S[Q]+.5*X,end:S[Q]+X,firstPoint:z&&x.xData[z],lastPoint:x.xData[x.xData.length-1]}[ut]}if(st&&st!=="start"){let z=X*{middle:.5,end:1}[st];for(;at>=lt;)S[at]+=z,at--}}(this,Y,N),D&&(P((s=Y)[0])&&t(i.min)&&t(i.dataMin)&&s[0]<i.min&&((!P(i.options.min)&&i.min<=i.dataMin||i.min===i.dataMin)&&(i.min=Math.min(s[0],i.min)),i.dataMin=Math.min(s[0],i.dataMin)),P(s[s.length-1])&&t(i.max)&&t(i.dataMax)&&s[s.length-1]>i.max&&((!P(i.options.max)&&t(i.dataMax)&&i.max>=i.dataMax||i.max===i.dataMax)&&(i.max=Math.max(s[s.length-1],i.max)),i.dataMax=Math.max(s[s.length-1],i.dataMax))),p.groupAll&&(this.allGroupedData=K,Y=(k=this.cropData(Y,K,i.min,i.max)).xData,K=k.yData,this.cropStart=k.start),this.processedXData=Y,this.processedYData=K}else this.groupMap=null,this.currentDataGrouping=void 0;this.hasGroupedData=f,this.preventGraphAnimation=(w&&w.totalRange)!==(W&&W.totalRange)}function j(){this.groupedData&&(this.groupedData.forEach(function(c,s){c&&(this.groupedData[s]=c.destroy?c.destroy():null)},this),this.groupedData.length=0,delete this.allGroupedData)}function I(){g.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null}function T(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")||this.options.cumulative?"sum":"average"}function tt(c,s,h,f){let n=this,p=n.data,E=n.options&&n.options.data,D=[],w=[],W=[],k=c.length,q=!!s,G=[],y=n.pointArrayMap,V=y&&y.length,ot=["x"].concat(y||["y"]),i=this.options.dataGrouping&&this.options.dataGrouping.groupAll,Z,$,J,L=0,N=0,nt=typeof f=="function"?f:f&&a[f]?a[f]:a[n.getDGApproximation&&n.getDGApproximation()||"average"];if(V){let u=y.length;for(;u--;)G.push([])}else G.push([]);let rt=V||1;for(let u=0;u<=k;u++)if(!(c[u]<h[0])){for(;h[L+1]!==void 0&&c[u]>=h[L+1]||u===k;){Z=h[L],n.dataGroupInfo={start:i?N:n.cropStart+N,length:G[0].length,groupStart:Z},J=nt.apply(n,G),n.pointClass&&!P(n.dataGroupInfo.options)&&(n.dataGroupInfo.options=e(n.pointClass.prototype.optionsToObject.call({series:n},n.options.data[n.cropStart+N])),ot.forEach(function(M){delete n.dataGroupInfo.options[M]})),J!==void 0&&(D.push(Z),w.push(J),W.push(n.dataGroupInfo)),N=u;for(let M=0;M<rt;M++)G[M].length=0,G[M].hasNulls=!1;if(L+=1,u===k)break}if(u===k)break;if(y){let M,Y=n.options.dataGrouping&&n.options.dataGrouping.groupAll?u:n.cropStart+u,K=p&&p[Y]||n.pointClass.prototype.applyOptions.apply({series:n},[E[Y]]);for(let R=0;R<V;R++)t(M=K[y[R]])?G[R].push(M):M===null&&(G[R].hasNulls=!0)}else t($=q?s[u]:null)?G[0].push($):$===null&&(G[0].hasNulls=!0)}return{groupedXData:D,groupedYData:w,groupMap:W}}function it(c){let s=c.options,h=this.type,f=this.chart.options.plotOptions,n=this.useCommonDataGrouping&&l.common,p=l.seriesSpecific,E=v.defaultOptions.plotOptions[h].dataGrouping;if(f&&(p[h]||n)){let D=this.chart.rangeSelector;E||(E=e(l.common,p[h])),s.dataGrouping=e(n,E,f.series&&f.series.dataGrouping,f[h].dataGrouping,this.userOptions.dataGrouping,!s.isInternal&&D&&t(D.selected)&&D.buttonOptions[D.selected].dataGrouping)}}return{compose:function(c){let s=c.prototype;s.applyGrouping||(C(c.prototype.pointClass,"update",function(){if(this.dataGroup)return H(24,!1,this.series.chart),!1}),C(c,"afterSetOptions",it),C(c,"destroy",j),o(s,{applyGrouping:F,destroyGroupedData:j,generatePoints:I,getDGApproximation:T,groupData:tt}))},groupData:tt}}),A(r,"Extensions/DataGrouping/DataGrouping.js",[r["Extensions/DataGrouping/DataGroupingAxisComposition.js"],r["Extensions/DataGrouping/DataGroupingDefaults.js"],r["Extensions/DataGrouping/DataGroupingSeriesComposition.js"],r["Core/Templating.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(a,l,b,v,_,U){let{format:m}=v,{composed:C}=_,{addEvent:P,extend:H,isNumber:o,pick:t,pushUnique:e}=U;function d(g){var k;let F=this.chart,j=F.time,I=g.labelConfig,T=I.series,tt=I.point,it=T.options,c=T.tooltipOptions,s=it.dataGrouping,h=T.xAxis,f=c.xDateFormat,n,p,E,D,w,W=c[g.isFooter?"footerFormat":"headerFormat"];if(h&&h.options.type==="datetime"&&s&&o(I.key)){p=T.currentDataGrouping,E=s.dateTimeLabelFormats||l.common.dateTimeLabelFormats,p?(D=E[p.unitName],p.count===1?f=D[0]:(f=D[1],n=D[2])):!f&&E&&h.dateTime&&(f=h.dateTime.getXDateFormat(I.x,c.dateTimeLabelFormats));let q=t((k=T.groupMap)==null?void 0:k[tt.index].groupStart,I.key),G=q+(p==null?void 0:p.totalRange)-1;w=j.dateFormat(f,q),n&&(w+=j.dateFormat(n,G)),T.chart.styledMode&&(W=this.styledModeFormat(W)),g.text=m(W,{point:H(I.point,{key:w}),series:T},F),g.preventDefault()}}return{compose:function(g,F,j){a.compose(g),b.compose(F),j&&e(C,"DataGrouping")&&P(j,"headerFormatter",d)},groupData:b.groupData}}),A(r,"masters/modules/datagrouping.src.js",[r["Core/Globals.js"],r["Extensions/DataGrouping/ApproximationDefaults.js"],r["Extensions/DataGrouping/ApproximationRegistry.js"],r["Extensions/DataGrouping/DataGrouping.js"]],function(a,l,b,v){return a.dataGrouping=a.dataGrouping||{},a.dataGrouping.approximationDefaults=a.dataGrouping.approximationDefaults||l,a.dataGrouping.approximations=a.dataGrouping.approximations||b,v.compose(a.Axis,a.Series,a.Tooltip),a})})})(dt);var ct=dt.exports;const Dt=mt(ct),yt=xt({__proto__:null,default:Dt},[ct]);export{yt as d};
